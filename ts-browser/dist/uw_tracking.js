var uw_tracking=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=21)}([function(t,e,i){"use strict";var r,n,o=i(5),s=o.Reader,a=o.Writer,c=o.util,u=o.roots.default||(o.roots.default={});u.Account=function(){function t(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.id="",t.prototype.number="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.number&&Object.hasOwnProperty.call(t,"number")&&e.uint32(18).string(t.number),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new u.Account;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.id=t.string();break;case 2:r.number=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.id&&t.hasOwnProperty("id")&&!c.isString(t.id)?"id: string expected":null!=t.number&&t.hasOwnProperty("number")&&!c.isString(t.number)?"number: string expected":null},t.fromObject=function(t){if(t instanceof u.Account)return t;var e=new u.Account;return null!=t.id&&(e.id=String(t.id)),null!=t.number&&(e.number=String(t.number)),e},t.toObject=function(t,e){e||(e={});var i={};return e.defaults&&(i.id="",i.number=""),null!=t.id&&t.hasOwnProperty("id")&&(i.id=t.id),null!=t.number&&t.hasOwnProperty("number")&&(i.number=t.number),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},t}(),u.Application=function(){function t(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.id="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new u.Application;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.id=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.id&&t.hasOwnProperty("id")&&!c.isString(t.id)?"id: string expected":null},t.fromObject=function(t){if(t instanceof u.Application)return t;var e=new u.Application;return null!=t.id&&(e.id=String(t.id)),e},t.toObject=function(t,e){e||(e={});var i={};return e.defaults&&(i.id=""),null!=t.id&&t.hasOwnProperty("id")&&(i.id=t.id),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},t}(),u.Person=function(){function t(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new u.Person;t.pos<i;){var n=t.uint32();t.skipType(7&n)}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null},t.fromObject=function(t){return t instanceof u.Person?t:new u.Person},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},t}(),u.StageEvent=function(){function t(t){if(this.attributes={},t)for(var e=Object.keys(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.account=null,t.prototype.application=null,t.prototype.subject=0,t.prototype.intent=0,t.prototype.stage=0,t.prototype.attributes=c.emptyObject,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&u.Account.encode(t.account,e.uint32(10).fork()).ldelim(),null!=t.application&&Object.hasOwnProperty.call(t,"application")&&u.Application.encode(t.application,e.uint32(18).fork()).ldelim(),null!=t.subject&&Object.hasOwnProperty.call(t,"subject")&&e.uint32(24).int32(t.subject),null!=t.intent&&Object.hasOwnProperty.call(t,"intent")&&e.uint32(32).int32(t.intent),null!=t.stage&&Object.hasOwnProperty.call(t,"stage")&&e.uint32(40).int32(t.stage),null!=t.attributes&&Object.hasOwnProperty.call(t,"attributes"))for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)e.uint32(50).fork().uint32(10).string(i[r]).uint32(18).string(t.attributes[i[r]]).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var i,r,n=void 0===e?t.len:t.pos+e,o=new u.StageEvent;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:o.account=u.Account.decode(t,t.uint32());break;case 2:o.application=u.Application.decode(t,t.uint32());break;case 3:o.subject=t.int32();break;case 4:o.intent=t.int32();break;case 5:o.stage=t.int32();break;case 6:o.attributes===c.emptyObject&&(o.attributes={});var p=t.uint32()+t.pos;for(i="",r="";t.pos<p;){var l=t.uint32();switch(l>>>3){case 1:i=t.string();break;case 2:r=t.string();break;default:t.skipType(7&l)}}o.attributes[i]=r;break;default:t.skipType(7&a)}}return o},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";var e;if(null!=t.account&&t.hasOwnProperty("account")&&(e=u.Account.verify(t.account)))return"account."+e;if(null!=t.application&&t.hasOwnProperty("application")&&(e=u.Application.verify(t.application)))return"application."+e;if(null!=t.subject&&t.hasOwnProperty("subject"))switch(t.subject){default:return"subject: enum value expected";case 0:case 1:}if(null!=t.intent&&t.hasOwnProperty("intent"))switch(t.intent){default:return"intent: enum value expected";case 0:case 1:}if(null!=t.stage&&t.hasOwnProperty("stage"))switch(t.stage){default:return"stage: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:}if(null!=t.attributes&&t.hasOwnProperty("attributes")){if(!c.isObject(t.attributes))return"attributes: object expected";for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)if(!c.isString(t.attributes[i[r]]))return"attributes: string{k:string} expected"}return null},t.fromObject=function(t){if(t instanceof u.StageEvent)return t;var e=new u.StageEvent;if(null!=t.account){if("object"!=typeof t.account)throw TypeError(".StageEvent.account: object expected");e.account=u.Account.fromObject(t.account)}if(null!=t.application){if("object"!=typeof t.application)throw TypeError(".StageEvent.application: object expected");e.application=u.Application.fromObject(t.application)}switch(t.subject){case"SUBJECT_NONE":case 0:e.subject=0;break;case"SUBJECT_METER_READING":case 1:e.subject=1}switch(t.intent){case"INTENT_NONE":case 0:e.intent=0;break;case"INTENT_METER_READING_SUBMIT":case 1:e.intent=1}switch(t.stage){case"STAGE_NONE":case 0:e.stage=0;break;case"STAGE_SUBMITTED":case 1:e.stage=1;break;case"STAGE_RECEIVED_REQUEST_FOR_AMEND":case 2:e.stage=2;break;case"STAGE_COMPLETED":case 3:e.stage=3;break;case"STAGE_REJECTED":case 4:e.stage=4;break;case"STAGE_ENTERED":case 5:e.stage=5;break;case"STAGE_STARTED":case 6:e.stage=6;break;case"STAGE_FAILED":case 7:e.stage=7}if(t.attributes){if("object"!=typeof t.attributes)throw TypeError(".StageEvent.attributes: object expected");e.attributes={};for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)e.attributes[i[r]]=String(t.attributes[i[r]])}return e},t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.attributes={}),e.defaults&&(r.account=null,r.application=null,r.subject=e.enums===String?"SUBJECT_NONE":0,r.intent=e.enums===String?"INTENT_NONE":0,r.stage=e.enums===String?"STAGE_NONE":0),null!=t.account&&t.hasOwnProperty("account")&&(r.account=u.Account.toObject(t.account,e)),null!=t.application&&t.hasOwnProperty("application")&&(r.application=u.Application.toObject(t.application,e)),null!=t.subject&&t.hasOwnProperty("subject")&&(r.subject=e.enums===String?u.Subject[t.subject]:t.subject),null!=t.intent&&t.hasOwnProperty("intent")&&(r.intent=e.enums===String?u.Intent[t.intent]:t.intent),null!=t.stage&&t.hasOwnProperty("stage")&&(r.stage=e.enums===String?u.Stage[t.stage]:t.stage),t.attributes&&(i=Object.keys(t.attributes)).length){r.attributes={};for(var n=0;n<i.length;++n)r.attributes[i[n]]=t.attributes[i[n]]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},t}(),u.InteractionEvent=function(){function t(t){if(this.attributes={},t)for(var e=Object.keys(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.account=null,t.prototype.application=null,t.prototype.subject=0,t.prototype.intent=0,t.prototype.interaction=0,t.prototype.channel=0,t.prototype.attributes=c.emptyObject,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&u.Account.encode(t.account,e.uint32(10).fork()).ldelim(),null!=t.application&&Object.hasOwnProperty.call(t,"application")&&u.Application.encode(t.application,e.uint32(18).fork()).ldelim(),null!=t.subject&&Object.hasOwnProperty.call(t,"subject")&&e.uint32(24).int32(t.subject),null!=t.intent&&Object.hasOwnProperty.call(t,"intent")&&e.uint32(32).int32(t.intent),null!=t.interaction&&Object.hasOwnProperty.call(t,"interaction")&&e.uint32(40).int32(t.interaction),null!=t.channel&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(48).int32(t.channel),null!=t.attributes&&Object.hasOwnProperty.call(t,"attributes"))for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)e.uint32(58).fork().uint32(10).string(i[r]).uint32(18).string(t.attributes[i[r]]).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var i,r,n=void 0===e?t.len:t.pos+e,o=new u.InteractionEvent;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:o.account=u.Account.decode(t,t.uint32());break;case 2:o.application=u.Application.decode(t,t.uint32());break;case 3:o.subject=t.int32();break;case 4:o.intent=t.int32();break;case 5:o.interaction=t.int32();break;case 6:o.channel=t.int32();break;case 7:o.attributes===c.emptyObject&&(o.attributes={});var p=t.uint32()+t.pos;for(i="",r="";t.pos<p;){var l=t.uint32();switch(l>>>3){case 1:i=t.string();break;case 2:r=t.string();break;default:t.skipType(7&l)}}o.attributes[i]=r;break;default:t.skipType(7&a)}}return o},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";var e;if(null!=t.account&&t.hasOwnProperty("account")&&(e=u.Account.verify(t.account)))return"account."+e;if(null!=t.application&&t.hasOwnProperty("application")&&(e=u.Application.verify(t.application)))return"application."+e;if(null!=t.subject&&t.hasOwnProperty("subject"))switch(t.subject){default:return"subject: enum value expected";case 0:case 1:}if(null!=t.intent&&t.hasOwnProperty("intent"))switch(t.intent){default:return"intent: enum value expected";case 0:case 1:}if(null!=t.interaction&&t.hasOwnProperty("interaction"))switch(t.interaction){default:return"interaction: enum value expected";case 0:case 1:case 2:}if(null!=t.channel&&t.hasOwnProperty("channel"))switch(t.channel){default:return"channel: enum value expected";case 0:case 1:case 2:}if(null!=t.attributes&&t.hasOwnProperty("attributes")){if(!c.isObject(t.attributes))return"attributes: object expected";for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)if(!c.isString(t.attributes[i[r]]))return"attributes: string{k:string} expected"}return null},t.fromObject=function(t){if(t instanceof u.InteractionEvent)return t;var e=new u.InteractionEvent;if(null!=t.account){if("object"!=typeof t.account)throw TypeError(".InteractionEvent.account: object expected");e.account=u.Account.fromObject(t.account)}if(null!=t.application){if("object"!=typeof t.application)throw TypeError(".InteractionEvent.application: object expected");e.application=u.Application.fromObject(t.application)}switch(t.subject){case"SUBJECT_NONE":case 0:e.subject=0;break;case"SUBJECT_METER_READING":case 1:e.subject=1}switch(t.intent){case"INTENT_NONE":case 0:e.intent=0;break;case"INTENT_METER_READING_SUBMIT":case 1:e.intent=1}switch(t.interaction){case"INTERACTION_NONE":case 0:e.interaction=0;break;case"INTERACTION_CLICKED":case 1:e.interaction=1;break;case"INTERACTION_VIEWED":case 2:e.interaction=2}switch(t.channel){case"INTERACTION_CHANNEL_NONE":case 0:e.channel=0;break;case"INTERACTION_CHANNEL_EMAIL":case 1:e.channel=1;break;case"INTERACTION_CHANNEL_WILLIAM":case 2:e.channel=2}if(t.attributes){if("object"!=typeof t.attributes)throw TypeError(".InteractionEvent.attributes: object expected");e.attributes={};for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)e.attributes[i[r]]=String(t.attributes[i[r]])}return e},t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.attributes={}),e.defaults&&(r.account=null,r.application=null,r.subject=e.enums===String?"SUBJECT_NONE":0,r.intent=e.enums===String?"INTENT_NONE":0,r.interaction=e.enums===String?"INTERACTION_NONE":0,r.channel=e.enums===String?"INTERACTION_CHANNEL_NONE":0),null!=t.account&&t.hasOwnProperty("account")&&(r.account=u.Account.toObject(t.account,e)),null!=t.application&&t.hasOwnProperty("application")&&(r.application=u.Application.toObject(t.application,e)),null!=t.subject&&t.hasOwnProperty("subject")&&(r.subject=e.enums===String?u.Subject[t.subject]:t.subject),null!=t.intent&&t.hasOwnProperty("intent")&&(r.intent=e.enums===String?u.Intent[t.intent]:t.intent),null!=t.interaction&&t.hasOwnProperty("interaction")&&(r.interaction=e.enums===String?u.Interaction[t.interaction]:t.interaction),null!=t.channel&&t.hasOwnProperty("channel")&&(r.channel=e.enums===String?u.InteractionChannel[t.channel]:t.channel),t.attributes&&(i=Object.keys(t.attributes)).length){r.attributes={};for(var n=0;n<i.length;++n)r.attributes[i[n]]=t.attributes[i[n]]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},t}(),u.VisitEvent=function(){function t(t){if(this.attributes={},t)for(var e=Object.keys(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.account=null,t.prototype.application=null,t.prototype.location="",t.prototype.attributes=c.emptyObject,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&u.Account.encode(t.account,e.uint32(10).fork()).ldelim(),null!=t.application&&Object.hasOwnProperty.call(t,"application")&&u.Application.encode(t.application,e.uint32(18).fork()).ldelim(),null!=t.location&&Object.hasOwnProperty.call(t,"location")&&e.uint32(26).string(t.location),null!=t.attributes&&Object.hasOwnProperty.call(t,"attributes"))for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)e.uint32(34).fork().uint32(10).string(i[r]).uint32(18).string(t.attributes[i[r]]).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var i,r,n=void 0===e?t.len:t.pos+e,o=new u.VisitEvent;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:o.account=u.Account.decode(t,t.uint32());break;case 2:o.application=u.Application.decode(t,t.uint32());break;case 3:o.location=t.string();break;case 4:o.attributes===c.emptyObject&&(o.attributes={});var p=t.uint32()+t.pos;for(i="",r="";t.pos<p;){var l=t.uint32();switch(l>>>3){case 1:i=t.string();break;case 2:r=t.string();break;default:t.skipType(7&l)}}o.attributes[i]=r;break;default:t.skipType(7&a)}}return o},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";var e;if(null!=t.account&&t.hasOwnProperty("account")&&(e=u.Account.verify(t.account)))return"account."+e;if(null!=t.application&&t.hasOwnProperty("application")&&(e=u.Application.verify(t.application)))return"application."+e;if(null!=t.location&&t.hasOwnProperty("location")&&!c.isString(t.location))return"location: string expected";if(null!=t.attributes&&t.hasOwnProperty("attributes")){if(!c.isObject(t.attributes))return"attributes: object expected";for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)if(!c.isString(t.attributes[i[r]]))return"attributes: string{k:string} expected"}return null},t.fromObject=function(t){if(t instanceof u.VisitEvent)return t;var e=new u.VisitEvent;if(null!=t.account){if("object"!=typeof t.account)throw TypeError(".VisitEvent.account: object expected");e.account=u.Account.fromObject(t.account)}if(null!=t.application){if("object"!=typeof t.application)throw TypeError(".VisitEvent.application: object expected");e.application=u.Application.fromObject(t.application)}if(null!=t.location&&(e.location=String(t.location)),t.attributes){if("object"!=typeof t.attributes)throw TypeError(".VisitEvent.attributes: object expected");e.attributes={};for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)e.attributes[i[r]]=String(t.attributes[i[r]])}return e},t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.attributes={}),e.defaults&&(r.account=null,r.application=null,r.location=""),null!=t.account&&t.hasOwnProperty("account")&&(r.account=u.Account.toObject(t.account,e)),null!=t.application&&t.hasOwnProperty("application")&&(r.application=u.Application.toObject(t.application,e)),null!=t.location&&t.hasOwnProperty("location")&&(r.location=t.location),t.attributes&&(i=Object.keys(t.attributes)).length){r.attributes={};for(var n=0;n<i.length;++n)r.attributes[i[n]]=t.attributes[i[n]]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},t}(),u.ClickEvent=function(){function t(t){if(this.attributes={},t)for(var e=Object.keys(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.account=null,t.prototype.application=null,t.prototype.target="",t.prototype.attributes=c.emptyObject,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&u.Account.encode(t.account,e.uint32(10).fork()).ldelim(),null!=t.application&&Object.hasOwnProperty.call(t,"application")&&u.Application.encode(t.application,e.uint32(18).fork()).ldelim(),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&e.uint32(26).string(t.target),null!=t.attributes&&Object.hasOwnProperty.call(t,"attributes"))for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)e.uint32(34).fork().uint32(10).string(i[r]).uint32(18).string(t.attributes[i[r]]).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var i,r,n=void 0===e?t.len:t.pos+e,o=new u.ClickEvent;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:o.account=u.Account.decode(t,t.uint32());break;case 2:o.application=u.Application.decode(t,t.uint32());break;case 3:o.target=t.string();break;case 4:o.attributes===c.emptyObject&&(o.attributes={});var p=t.uint32()+t.pos;for(i="",r="";t.pos<p;){var l=t.uint32();switch(l>>>3){case 1:i=t.string();break;case 2:r=t.string();break;default:t.skipType(7&l)}}o.attributes[i]=r;break;default:t.skipType(7&a)}}return o},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";var e;if(null!=t.account&&t.hasOwnProperty("account")&&(e=u.Account.verify(t.account)))return"account."+e;if(null!=t.application&&t.hasOwnProperty("application")&&(e=u.Application.verify(t.application)))return"application."+e;if(null!=t.target&&t.hasOwnProperty("target")&&!c.isString(t.target))return"target: string expected";if(null!=t.attributes&&t.hasOwnProperty("attributes")){if(!c.isObject(t.attributes))return"attributes: object expected";for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)if(!c.isString(t.attributes[i[r]]))return"attributes: string{k:string} expected"}return null},t.fromObject=function(t){if(t instanceof u.ClickEvent)return t;var e=new u.ClickEvent;if(null!=t.account){if("object"!=typeof t.account)throw TypeError(".ClickEvent.account: object expected");e.account=u.Account.fromObject(t.account)}if(null!=t.application){if("object"!=typeof t.application)throw TypeError(".ClickEvent.application: object expected");e.application=u.Application.fromObject(t.application)}if(null!=t.target&&(e.target=String(t.target)),t.attributes){if("object"!=typeof t.attributes)throw TypeError(".ClickEvent.attributes: object expected");e.attributes={};for(var i=Object.keys(t.attributes),r=0;r<i.length;++r)e.attributes[i[r]]=String(t.attributes[i[r]])}return e},t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.attributes={}),e.defaults&&(r.account=null,r.application=null,r.target=""),null!=t.account&&t.hasOwnProperty("account")&&(r.account=u.Account.toObject(t.account,e)),null!=t.application&&t.hasOwnProperty("application")&&(r.application=u.Application.toObject(t.application,e)),null!=t.target&&t.hasOwnProperty("target")&&(r.target=t.target),t.attributes&&(i=Object.keys(t.attributes)).length){r.attributes={};for(var n=0;n<i.length;++n)r.attributes[i[n]]=t.attributes[i[n]]}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},t}(),u.Subject=(r={},(n=Object.create(r))[r[0]="SUBJECT_NONE"]=0,n[r[1]="SUBJECT_METER_READING"]=1,n),u.Intent=function(){var t={},e=Object.create(t);return e[t[0]="INTENT_NONE"]=0,e[t[1]="INTENT_METER_READING_SUBMIT"]=1,e}(),u.Stage=function(){var t={},e=Object.create(t);return e[t[0]="STAGE_NONE"]=0,e[t[1]="STAGE_SUBMITTED"]=1,e[t[2]="STAGE_RECEIVED_REQUEST_FOR_AMEND"]=2,e[t[3]="STAGE_COMPLETED"]=3,e[t[4]="STAGE_REJECTED"]=4,e[t[5]="STAGE_ENTERED"]=5,e[t[6]="STAGE_STARTED"]=6,e[t[7]="STAGE_FAILED"]=7,e}(),u.Interaction=function(){var t={},e=Object.create(t);return e[t[0]="INTERACTION_NONE"]=0,e[t[1]="INTERACTION_CLICKED"]=1,e[t[2]="INTERACTION_VIEWED"]=2,e}(),u.InteractionChannel=function(){var t={},e=Object.create(t);return e[t[0]="INTERACTION_CHANNEL_NONE"]=0,e[t[1]="INTERACTION_CHANNEL_EMAIL"]=1,e[t[2]="INTERACTION_CHANNEL_WILLIAM"]=2,e}(),t.exports=u},function(t,e,i){"use strict";var r,n={DEBUG:!1,LIB_VERSION:"2.38.0"};if("undefined"==typeof window){var o={hostname:""};r={navigator:{userAgent:""},document:{location:o,referrer:""},screen:{width:0,height:0},location:o}}else r=window;var s,a,c,u,p,l,h,f,d,_,g,m=Array.prototype,y=Function.prototype,v=Object.prototype,b=m.slice,w=v.toString,k=v.hasOwnProperty,x=r.console,O=r.navigator,E=r.document,I=r.opera,T=r.screen,S=O.userAgent,j=y.bind,N=m.forEach,A=m.indexOf,P=m.map,C=Array.isArray,M={},D={trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},B={log:function(){if(n.DEBUG&&!D.isUndefined(x)&&x)try{x.log.apply(x,arguments)}catch(t){D.each(arguments,(function(t){x.log(t)}))}},error:function(){if(n.DEBUG&&!D.isUndefined(x)&&x){var t=["Mixpanel error:"].concat(D.toArray(arguments));try{x.error.apply(x,t)}catch(e){D.each(t,(function(t){x.error(t)}))}}},critical:function(){if(!D.isUndefined(x)&&x){var t=["Mixpanel error:"].concat(D.toArray(arguments));try{x.error.apply(x,t)}catch(e){D.each(t,(function(t){x.error(t)}))}}}},q=function(t,e){return function(){return arguments[0]="["+e+"] "+arguments[0],t.apply(B,arguments)}},$=function(t){return{log:q(B.log,t),error:q(B.error,t),critical:q(B.critical,t)}};D.bind=function(t,e){var i,r;if(j&&t.bind===j)return j.apply(t,b.call(arguments,1));if(!D.isFunction(t))throw new TypeError;return i=b.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,i.concat(b.call(arguments)));var n={};n.prototype=t.prototype;var o=new n;n.prototype=null;var s=t.apply(o,i.concat(b.call(arguments)));return Object(s)===s?s:o}},D.bind_instance_methods=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=D.bind(t[e],t))},D.each=function(t,e,i){if(null!=t)if(N&&t.forEach===N)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,n=t.length;r<n;r++)if(r in t&&e.call(i,t[r],r,t)===M)return}else for(var o in t)if(k.call(t,o)&&e.call(i,t[o],o,t)===M)return},D.escapeHTML=function(t){var e=t;return e&&D.isString(e)&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),e},D.extend=function(t){return D.each(b.call(arguments,1),(function(e){for(var i in e)void 0!==e[i]&&(t[i]=e[i])})),t},D.isArray=C||function(t){return"[object Array]"===w.call(t)},D.isFunction=function(t){try{return/^\s*\bfunction\b/.test(t)}catch(t){return!1}},D.isArguments=function(t){return!(!t||!k.call(t,"callee"))},D.toArray=function(t){return t?t.toArray?t.toArray():D.isArray(t)||D.isArguments(t)?b.call(t):D.values(t):[]},D.map=function(t,e){if(P&&t.map===P)return t.map(e);var i=[];return D.each(t,(function(t){i.push(e(t))})),i},D.keys=function(t){var e=[];return null===t||D.each(t,(function(t,i){e[e.length]=i})),e},D.values=function(t){var e=[];return null===t||D.each(t,(function(t){e[e.length]=t})),e},D.identity=function(t){return t},D.include=function(t,e){var i=!1;return null===t?i:A&&t.indexOf===A?-1!=t.indexOf(e):(D.each(t,(function(t){if(i||(i=t===e))return M})),i)},D.includes=function(t,e){return-1!==t.indexOf(e)},D.inherit=function(t,e){return t.prototype=new e,t.prototype.constructor=t,t.superclass=e.prototype,t},D.isObject=function(t){return t===Object(t)&&!D.isArray(t)},D.isEmptyObject=function(t){if(D.isObject(t)){for(var e in t)if(k.call(t,e))return!1;return!0}return!1},D.isUndefined=function(t){return void 0===t},D.isString=function(t){return"[object String]"==w.call(t)},D.isDate=function(t){return"[object Date]"==w.call(t)},D.isNumber=function(t){return"[object Number]"==w.call(t)},D.isElement=function(t){return!(!t||1!==t.nodeType)},D.encodeDates=function(t){return D.each(t,(function(e,i){D.isDate(e)?t[i]=D.formatDate(e):D.isObject(e)&&(t[i]=D.encodeDates(e))})),t},D.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},D.formatDate=function(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())},D.safewrap=function(t){return function(){try{return t.apply(this,arguments)}catch(t){B.critical("Implementation error. Please turn on debug and contact support@mixpanel.com."),n.DEBUG&&B.critical(t)}}},D.safewrap_class=function(t,e){for(var i=0;i<e.length;i++)t.prototype[e[i]]=D.safewrap(t.prototype[e[i]])},D.safewrap_instance_methods=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=D.safewrap(t[e]))},D.strip_empty_properties=function(t){var e={};return D.each(t,(function(t,i){D.isString(t)&&t.length>0&&(e[i]=t)})),e},D.truncate=function(t,e){var i;return"string"==typeof t?i=t.slice(0,e):D.isArray(t)?(i=[],D.each(t,(function(t){i.push(D.truncate(t,e))}))):D.isObject(t)?(i={},D.each(t,(function(t,r){i[r]=D.truncate(t,e)}))):i=t,i},D.JSONEncode=function(t){var e=function(t){var e=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return e.lastIndex=0,e.test(t)?'"'+t.replace(e,(function(t){var e=i[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'},i=function(t,r){var n="",o=0,s="",a="",c=0,u=n,p=[],l=r[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),typeof l){case"string":return e(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(n+="    ",p=[],"[object Array]"===w.apply(l)){for(c=l.length,o=0;o<c;o+=1)p[o]=i(o,l)||"null";return a=0===p.length?"[]":n?"[\n"+n+p.join(",\n"+n)+"\n"+u+"]":"["+p.join(",")+"]",n=u,a}for(s in l)k.call(l,s)&&(a=i(s,l))&&p.push(e(s)+(n?": ":":")+a);return a=0===p.length?"{}":n?"{"+p.join(",")+u+"}":"{"+p.join(",")+"}",n=u,a}};return i("",{"":t})},D.JSONDecode=(p={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(t){var e=new SyntaxError(t);throw e.at=s,e.text=c,e},h=function(t){return t&&t!==a&&l("Expected '"+t+"' instead of '"+a+"'"),a=c.charAt(s),s+=1,a},f=function(){var t,e="";for("-"===a&&(e="-",h("-"));a>="0"&&a<="9";)e+=a,h();if("."===a)for(e+=".";h()&&a>="0"&&a<="9";)e+=a;if("e"===a||"E"===a)for(e+=a,h(),"-"!==a&&"+"!==a||(e+=a,h());a>="0"&&a<="9";)e+=a,h();if(t=+e,isFinite(t))return t;l("Bad number")},d=function(){var t,e,i,r="";if('"'===a)for(;h();){if('"'===a)return h(),r;if("\\"===a)if(h(),"u"===a){for(i=0,e=0;e<4&&(t=parseInt(h(),16),isFinite(t));e+=1)i=16*i+t;r+=String.fromCharCode(i)}else{if("string"!=typeof p[a])break;r+=p[a]}else r+=a}l("Bad string")},_=function(){for(;a&&a<=" ";)h()},u=function(){switch(_(),a){case"{":return function(){var t,e={};if("{"===a){if(h("{"),_(),"}"===a)return h("}"),e;for(;a;){if(t=d(),_(),h(":"),Object.hasOwnProperty.call(e,t)&&l('Duplicate key "'+t+'"'),e[t]=u(),_(),"}"===a)return h("}"),e;h(","),_()}}l("Bad object")}();case"[":return function(){var t=[];if("["===a){if(h("["),_(),"]"===a)return h("]"),t;for(;a;){if(t.push(u()),_(),"]"===a)return h("]"),t;h(","),_()}}l("Bad array")}();case'"':return d();case"-":return f();default:return a>="0"&&a<="9"?f():function(){switch(a){case"t":return h("t"),h("r"),h("u"),h("e"),!0;case"f":return h("f"),h("a"),h("l"),h("s"),h("e"),!1;case"n":return h("n"),h("u"),h("l"),h("l"),null}l('Unexpected "'+a+'"')}()}},function(t){var e;return c=t,s=0,a=" ",e=u(),_(),a&&l("Syntax error"),e}),D.base64Encode=function(t){var e,i,r,n,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,c=0,u="",p=[];if(!t)return t;t=D.utf8Encode(t);do{e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,i=o>>12&63,r=o>>6&63,n=63&o,p[c++]=s.charAt(e)+s.charAt(i)+s.charAt(r)+s.charAt(n)}while(a<t.length);switch(u=p.join(""),t.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},D.utf8Encode=function(t){var e,i,r,n,o="";for(e=i=0,r=(t=(t+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,n=0;n<r;n++){var s=t.charCodeAt(n),a=null;s<128?i++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==a&&(i>e&&(o+=t.substring(e,i)),o+=a,e=i=n+1)}return i>e&&(o+=t.substring(e,t.length)),o},D.UUID=(g=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},function(){var t=(T.height*T.width).toString(16);return g()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var t,e,i=S,r=[],n=0;function o(t,e){var i,n=0;for(i=0;i<e.length;i++)n|=r[i]<<8*i;return t^n}for(t=0;t<i.length;t++)e=i.charCodeAt(t),r.unshift(255&e),r.length>=4&&(n=o(n,r),r=[]);return r.length>0&&(n=o(n,r)),n.toString(16)}()+"-"+t+"-"+g()}),D.isBlockedUA=function(t){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(t)},D.HTTPBuildQuery=function(t,e){var i,r,n=[];return D.isUndefined(e)&&(e="&"),D.each(t,(function(t,e){i=encodeURIComponent(t.toString()),r=encodeURIComponent(e),n[n.length]=r+"="+i})),n.join(e)},D.getQueryParam=function(t,e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);if(null===i||i&&"string"!=typeof i[1]&&i[1].length)return"";var r=i[1];try{r=decodeURIComponent(r)}catch(t){B.error("Skipping decoding for malformed query param: "+r)}return r.replace(/\+/g," ")},D.getHashParam=function(t,e){var i=t.match(new RegExp(e+"=([^&]*)"));return i?i[1]:null},D.cookie={get:function(t){for(var e=t+"=",i=E.cookie.split(";"),r=0;r<i.length;r++){for(var n=i[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return decodeURIComponent(n.substring(e.length,n.length))}return null},parse:function(t){var e;try{e=D.JSONDecode(D.cookie.get(t))||{}}catch(t){}return e},set_seconds:function(t,e,i,r,n,o,s){var a="",c="",u="";if(s)a="; domain="+s;else if(r){var p=J(E.location.hostname);a=p?"; domain=."+p:""}if(i){var l=new Date;l.setTime(l.getTime()+1e3*i),c="; expires="+l.toGMTString()}o&&(n=!0,u="; SameSite=None"),n&&(u+="; secure"),E.cookie=t+"="+encodeURIComponent(e)+c+"; path=/"+a+u},set:function(t,e,i,r,n,o,s){var a="",c="",u="";if(s)a="; domain="+s;else if(r){var p=J(E.location.hostname);a=p?"; domain=."+p:""}if(i){var l=new Date;l.setTime(l.getTime()+24*i*60*60*1e3),c="; expires="+l.toGMTString()}o&&(n=!0,u="; SameSite=None"),n&&(u+="; secure");var h=t+"="+encodeURIComponent(e)+c+"; path=/"+a+u;return E.cookie=h,h},remove:function(t,e,i){D.cookie.set(t,"",-1,e,!1,!1,i)}};var U=null,F=function(t,e){if(null!==U&&!e)return U;var i=!0;try{t=t||window.localStorage;var r="__mplss_"+H(8);t.setItem(r,"xyz"),"xyz"!==t.getItem(r)&&(i=!1),t.removeItem(r)}catch(t){i=!1}return U=i,i};D.localStorage={is_supported:function(t){var e=F(null,t);return e||B.error("localStorage unsupported; falling back to cookie store"),e},error:function(t){B.error("localStorage error: "+t)},get:function(t){try{return window.localStorage.getItem(t)}catch(t){D.localStorage.error(t)}return null},parse:function(t){try{return D.JSONDecode(D.localStorage.get(t))||{}}catch(t){}return null},set:function(t,e){try{window.localStorage.setItem(t,e)}catch(t){D.localStorage.error(t)}},remove:function(t){try{window.localStorage.removeItem(t)}catch(t){D.localStorage.error(t)}}},D.register_event=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,i,r,n,o){if(e)if(e.addEventListener&&!n)e.addEventListener(i,r,!!o);else{var s="on"+i,a=e[s];e[s]=function(e,i,r){return function(n){if(n=n||t(window.event)){var o,s,a=!0;return D.isFunction(r)&&(o=r(n)),s=i.call(e,n),!1!==o&&!1!==s||(a=!1),a}}}(e,r,a)}else B.error("No valid element provided to register_event")}}();var R=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');D.dom_query=function(){function t(t){return t.all?t.all:t.getElementsByTagName("*")}var e=/[\t\r\n]/g;function i(t,i){var r=" "+i+" ";return(" "+t.className+" ").replace(e," ").indexOf(r)>=0}function r(e){if(!E.getElementsByTagName)return[];var r,n,o,s,a,c,u,p,l,h,f=e.split(" "),d=[E];for(c=0;c<f.length;c++)if((r=f[c].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){o=(n=r.split("#"))[0];var _=n[1],g=E.getElementById(_);if(!g||o&&g.nodeName.toLowerCase()!=o)return[];d=[g]}else if(r.indexOf(".")>-1){o=(n=r.split("."))[0];var m=n[1];for(o||(o="*"),s=[],a=0,u=0;u<d.length;u++)for(l="*"==o?t(d[u]):d[u].getElementsByTagName(o),p=0;p<l.length;p++)s[a++]=l[p];for(d=[],h=0,u=0;u<s.length;u++)s[u].className&&D.isString(s[u].className)&&i(s[u],m)&&(d[h++]=s[u])}else{var y=r.match(R);if(y){o=y[1];var v,b=y[2],w=y[3],k=y[4];for(o||(o="*"),s=[],a=0,u=0;u<d.length;u++)for(l="*"==o?t(d[u]):d[u].getElementsByTagName(o),p=0;p<l.length;p++)s[a++]=l[p];switch(d=[],h=0,w){case"=":v=function(t){return t.getAttribute(b)==k};break;case"~":v=function(t){return t.getAttribute(b).match(new RegExp("\\b"+k+"\\b"))};break;case"|":v=function(t){return t.getAttribute(b).match(new RegExp("^"+k+"-?"))};break;case"^":v=function(t){return 0===t.getAttribute(b).indexOf(k)};break;case"$":v=function(t){return t.getAttribute(b).lastIndexOf(k)==t.getAttribute(b).length-k.length};break;case"*":v=function(t){return t.getAttribute(b).indexOf(k)>-1};break;default:v=function(t){return t.getAttribute(b)}}for(d=[],h=0,u=0;u<s.length;u++)v(s[u])&&(d[h++]=s[u])}else{for(o=r,s=[],a=0,u=0;u<d.length;u++)for(l=d[u].getElementsByTagName(o),p=0;p<l.length;p++)s[a++]=l[p];d=s}}return d}return function(t){return D.isElement(t)?[t]:D.isObject(t)&&!D.isUndefined(t.length)?t:r.call(this,t)}}(),D.info={campaignParams:function(){var t="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),e="",i={};return D.each(t,(function(t){(e=D.getQueryParam(E.URL,t)).length&&(i[t]=e)})),i},searchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)bing.com")?"bing":0===t.search("https?://(.*)yahoo.com")?"yahoo":0===t.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(t){var e=D.info.searchEngine(t),i="yahoo"!=e?"q":"p",r={};if(null!==e){r.$search_engine=e;var n=D.getQueryParam(t,i);n.length&&(r.mp_keyword=n)}return r},browser:function(t,e,i){return e=e||"",i||D.includes(t," OPR/")?D.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":D.includes(t,"IEMobile")||D.includes(t,"WPDesktop")?"Internet Explorer Mobile":D.includes(t,"SamsungBrowser/")?"Samsung Internet":D.includes(t,"Edge")||D.includes(t,"Edg/")?"Microsoft Edge":D.includes(t,"FBIOS")?"Facebook Mobile":D.includes(t,"Chrome")?"Chrome":D.includes(t,"CriOS")?"Chrome iOS":D.includes(t,"UCWEB")||D.includes(t,"UCBrowser")?"UC Browser":D.includes(t,"FxiOS")?"Firefox iOS":D.includes(e,"Apple")?D.includes(t,"Mobile")?"Mobile Safari":"Safari":D.includes(t,"Android")?"Android Mobile":D.includes(t,"Konqueror")?"Konqueror":D.includes(t,"Firefox")?"Firefox":D.includes(t,"MSIE")||D.includes(t,"Trident/")?"Internet Explorer":D.includes(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,i){var r={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[D.info.browser(t,e,i)];if(void 0===r)return null;var n=t.match(r);return n?parseFloat(n[n.length-2]):null},os:function(){var t=S;return/Windows/i.test(t)?/Phone/.test(t)||/WPDesktop/.test(t)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(t)?"iOS":/Android/.test(t)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Mac/i.test(t)?"Mac OS X":/Linux/.test(t)?"Linux":/CrOS/.test(t)?"Chrome OS":""},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)?"Android":""},referringDomain:function(t){var e=t.split("/");return e.length>=3?e[2]:""},properties:function(){return D.extend(D.strip_empty_properties({$os:D.info.os(),$browser:D.info.browser(S,O.vendor,I),$referrer:E.referrer,$referring_domain:D.info.referringDomain(E.referrer),$device:D.info.device(S)}),{$current_url:r.location.href,$browser_version:D.info.browserVersion(S,O.vendor,I),$screen_height:T.height,$screen_width:T.width,mp_lib:"web",$lib_version:n.LIB_VERSION,$insert_id:H(),time:D.timestamp()/1e3})},people_properties:function(){return D.extend(D.strip_empty_properties({$os:D.info.os(),$browser:D.info.browser(S,O.vendor,I)}),{$browser_version:D.info.browserVersion(S,O.vendor,I)})},pageviewInfo:function(t){return D.strip_empty_properties({mp_page:t,mp_referrer:E.referrer,mp_browser:D.info.browser(S,O.vendor,I),mp_platform:D.info.os()})}};var H=function(t){var e=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return t?e.substring(0,t):e},L=D.safewrap((function(t,e,i){t+=e;for(var r=5381,n=0;n<t.length;n++)r=(r<<5)+r+t.charCodeAt(n),r&=r;return(r>>>0)%100<i})),z=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,G=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,J=function(t){var e=G,i=t.split("."),r=i[i.length-1];(r.length>4||"com"===r||"org"===r)&&(e=z);var n=t.match(e);return n?n[0]:""},W=null,V=null;function X(t){switch(typeof t.className){case"string":return t.className;case"object":return t.className.baseVal||t.getAttribute("class")||"";default:return""}}function K(t){return t&&1===t.nodeType}function Y(t,e){return t&&t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Z(t){return t&&3===t.nodeType}function Q(t){for(var e=t;e.parentNode&&!Y(e,"body");e=e.parentNode){var i=X(e).split(" ");if(D.includes(i,"mp-sensitive")||D.includes(i,"mp-no-track"))return!1}if(D.includes(X(t).split(" "),"mp-include"))return!0;if(Y(t,"input")||Y(t,"select")||Y(t,"textarea")||"true"===t.getAttribute("contenteditable"))return!1;var r=t.type||"";if("string"==typeof r)switch(r.toLowerCase()){case"hidden":case"password":return!1}var n=t.name||t.id||"";if("string"==typeof n){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(n.replace(/[^a-zA-Z0-9]/g,"")))return!1}return!0}function tt(t){if(null===t||D.isUndefined(t))return!1;if("string"==typeof t){t=D.trim(t);if(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[- ]/g,"")))return!1;if(/(^\d{3}-?\d{2}-?\d{4}$)/.test(t))return!1}return!0}"undefined"!=typeof JSON&&(W=JSON.stringify,V=JSON.parse),W=W||D.JSONEncode,V=V||D.JSONDecode,D.toArray=D.toArray,D.isObject=D.isObject,D.JSONEncode=D.JSONEncode,D.JSONDecode=D.JSONDecode,D.isBlockedUA=D.isBlockedUA,D.isEmptyObject=D.isEmptyObject,D.info=D.info,D.info.device=D.info.device,D.info.browser=D.info.browser,D.info.browserVersion=D.info.browserVersion,D.info.properties=D.info.properties;var et={_initializedTokens:[],_previousElementSibling:function(t){if(t.previousElementSibling)return t.previousElementSibling;do{t=t.previousSibling}while(t&&!K(t));return t},_loadScript:function(t,e){var i=document.createElement("script");i.type="text/javascript",i.src=t,i.onload=e;var r=document.getElementsByTagName("script");r.length>0?r[0].parentNode.insertBefore(i,r[0]):document.body.appendChild(i)},_getPropertiesFromElement:function(t){var e={classes:X(t).split(" "),tag_name:t.tagName.toLowerCase()};Q(t)&&D.each(t.attributes,(function(t){tt(t.value)&&(e["attr__"+t.name]=t.value)}));for(var i=1,r=1,n=t;n=this._previousElementSibling(n);)i++,n.tagName===t.tagName&&r++;return e.nth_child=i,e.nth_of_type=r,e},_getDefaultProperties:function(t){return{$event_type:t,$ce_version:1,$host:window.location.host,$pathname:window.location.pathname}},_extractCustomPropertyValue:function(t){var e=[];return D.each(document.querySelectorAll(t.css_selector),(function(t){var i;["input","select"].indexOf(t.tagName.toLowerCase())>-1?i=t.value:t.textContent&&(i=t.textContent),tt(i)&&e.push(i)})),e.join(", ")},_getCustomProperties:function(t){var e={};return D.each(this._customProperties,(function(i){D.each(i.event_selectors,(function(r){var n=document.querySelectorAll(r);D.each(n,(function(r){D.includes(t,r)&&Q(r)&&(e[i.name]=this._extractCustomPropertyValue(i))}),this)}),this)}),this),e},_getEventTarget:function(t){return void 0===t.target?t.srcElement:t.target},_trackEvent:function(t,e){var i,r,n=this._getEventTarget(t);if(Z(n)&&(n=n.parentNode),function(t,e){if(!t||Y(t,"html")||!K(t))return!1;switch(t.tagName.toLowerCase()){case"html":return!1;case"form":return"submit"===e.type;case"input":return-1===["button","submit"].indexOf(t.getAttribute("type"))?"change"===e.type:"click"===e.type;case"select":case"textarea":return"change"===e.type;default:return"click"===e.type}}(n,t)){for(var o=[n],s=n;s.parentNode&&!Y(s,"body");)o.push(s.parentNode),s=s.parentNode;var a,c,u=[],p=!1;if(D.each(o,(function(t){var e=Q(t);"a"===t.tagName.toLowerCase()&&(a=t.getAttribute("href"),a=e&&tt(a)&&a);var i=X(t).split(" ");D.includes(i,"mp-no-track")&&(p=!0),u.push(this._getPropertiesFromElement(t))}),this),p)return!1;var l=(r="",Q(i=n)&&i.childNodes&&i.childNodes.length&&D.each(i.childNodes,(function(t){Z(t)&&t.textContent&&(r+=D.trim(t.textContent).split(/(\s+)/).filter(tt).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))})),D.trim(r));l&&l.length&&(c=l);var h=D.extend(this._getDefaultProperties(t.type),{$elements:u,$el_attr__href:a,$el_text:c},this._getCustomProperties(o));return e.track("$web_event",h),!0}},_navigate:function(t){window.location.href=t},_addDomEventHandlers:function(t){var e=D.bind((function(e){e=e||window.event,this._trackEvent(e,t)}),this);D.register_event(document,"submit",e,!1,!0),D.register_event(document,"change",e,!1,!0),D.register_event(document,"click",e,!1,!0)},_customProperties:{},init:function(t){if(document&&document.body){var e=t.get_config("token");if(this._initializedTokens.indexOf(e)>-1)console.log('autotrack already initialized for token "'+e+'"');else if(this._initializedTokens.push(e),!this._maybeLoadEditor(t)){var i=D.bind((function(e){e&&e.config&&!0===e.config.enable_collect_everything?(e.custom_properties&&(this._customProperties=e.custom_properties),t.track("$web_event",D.extend({$title:document.title},this._getDefaultProperties("pageview"))),this._addDomEventHandlers(t)):t.__autotrack_enabled=!1}),this);t._send_request(t.get_config("api_host")+"/decide/",{verbose:!0,version:"1",lib:"web",token:e},{method:"GET",transport:"XHR"},t._prepare_callback(i))}}else{console.log("document not ready yet, trying again in 500 milliseconds...");var r=this;setTimeout((function(){r.init(t)}),500)}},_editorParamsFromHash:function(t,e){var i;try{var r=D.getHashParam(e,"state");r=JSON.parse(decodeURIComponent(r));var n=D.getHashParam(e,"expires_in");i={accessToken:D.getHashParam(e,"access_token"),accessTokenExpiresAt:(new Date).getTime()+1e3*Number(n),bookmarkletMode:!!r.bookmarkletMode,projectId:r.projectId,projectOwnerId:r.projectOwnerId,projectToken:r.token,readOnly:r.readOnly,userFlags:r.userFlags,userId:r.userId},window.sessionStorage.setItem("editorParams",JSON.stringify(i)),r.desiredHash?window.location.hash=r.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(t){console.error("Unable to parse data from hash",t)}return i},_maybeLoadEditor:function(t){try{var e=!1;if(D.getHashParam(window.location.hash,"state")){var i=D.getHashParam(window.location.hash,"state");e="mpeditor"===(i=JSON.parse(decodeURIComponent(i))).action}var r,n=!!window.sessionStorage.getItem("_mpcehash");return e?r=this._editorParamsFromHash(t,window.location.hash):n?(r=this._editorParamsFromHash(t,window.sessionStorage.getItem("_mpcehash")),window.sessionStorage.removeItem("_mpcehash")):r=JSON.parse(window.sessionStorage.getItem("editorParams")||"{}"),!(!r.projectToken||t.get_config("token")!==r.projectToken)&&(this._loadEditor(t,r),!0)}catch(t){return!1}},_loadEditor:function(t,e){if(!window._mpEditorLoaded){window._mpEditorLoaded=!0;var i=t.get_config("app_host")+"/js-bundle/reports/collect-everything/editor.js?_ts="+(new Date).getTime();return this._loadScript(i,(function(){window.mp_load_editor(e)})),!0}return!1},enabledForProject:function(t,e,i){e=D.isUndefined(e)?10:e,i=D.isUndefined(i)?10:i;for(var r=0,n=0;n<t.length;n++)r+=t.charCodeAt(n);return r%e<i},isBrowserSupported:function(){return D.isFunction(document.querySelectorAll)}};D.bind_instance_methods(et),D.safewrap_instance_methods(et);var it=function(){};it.prototype.create_properties=function(){},it.prototype.event_handler=function(){},it.prototype.after_track_handler=function(){},it.prototype.init=function(t){return this.mp=t,this},it.prototype.track=function(t,e,i,r){var n=this,o=D.dom_query(t);if(0!==o.length)return D.each(o,(function(t){D.register_event(t,this.override_event,(function(t){var o={},s=n.create_properties(i,this),a=n.mp.get_config("track_links_timeout");n.event_handler(t,this,o),window.setTimeout(n.track_callback(r,s,o,!0),a),n.mp.track(e,s,n.track_callback(r,s,o))}))}),this),!0;B.error("The DOM query ("+t+") returned 0 elements")},it.prototype.track_callback=function(t,e,i,r){r=r||!1;var n=this;return function(){i.callback_fired||(i.callback_fired=!0,t&&!1===t(r,e)||n.after_track_handler(e,i,r))}},it.prototype.create_properties=function(t,e){return"function"==typeof t?t(e):D.extend({},t)};var rt=function(){this.override_event="click"};D.inherit(rt,it),rt.prototype.create_properties=function(t,e){var i=rt.superclass.create_properties.apply(this,arguments);return e.href&&(i.url=e.href),i},rt.prototype.event_handler=function(t,e,i){i.new_tab=2===t.which||t.metaKey||t.ctrlKey||"_blank"===e.target,i.href=e.href,i.new_tab||t.preventDefault()},rt.prototype.after_track_handler=function(t,e){e.new_tab||setTimeout((function(){window.location=e.href}),0)};var nt=function(){this.override_event="submit"};D.inherit(nt,it),nt.prototype.event_handler=function(t,e,i){i.element=e,t.preventDefault()},nt.prototype.after_track_handler=function(t,e){setTimeout((function(){e.element.submit()}),0)};var ot=$("lock"),st=function(t,e){e=e||{},this.storageKey=t,this.storage=e.storage||window.localStorage,this.pollIntervalMS=e.pollIntervalMS||100,this.timeoutMS=e.timeoutMS||2e3};st.prototype.withLock=function(t,e,i){i||"function"==typeof e||(i=e,e=null);var r=i||(new Date).getTime()+"|"+Math.random(),n=(new Date).getTime(),o=this.storageKey,s=this.pollIntervalMS,a=this.timeoutMS,c=this.storage,u=o+":X",p=o+":Y",l=o+":Z",h=function(t){e&&e(t)},f=function(t){if((new Date).getTime()-n>a)return ot.error("Timeout waiting for mutex on "+o+"; clearing lock. ["+r+"]"),c.removeItem(l),c.removeItem(p),void g();setTimeout((function(){try{t()}catch(t){h(t)}}),s*(Math.random()+.1))},d=function(t,e){t()?e():f((function(){d(t,e)}))},_=function(){var t=c.getItem(p);if(t&&t!==r)return!1;if(c.setItem(p,r),c.getItem(p)===r)return!0;if(!F(c,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},g=function(){c.setItem(u,r),d(_,(function(){c.getItem(u)!==r?f((function(){c.getItem(p)===r?d((function(){return!c.getItem(l)}),m):g()})):m()}))},m=function(){c.setItem(l,"1");try{t()}finally{c.removeItem(l),c.getItem(p)===r&&c.removeItem(p),c.getItem(u)===r&&c.removeItem(u)}};try{if(!F(c,!0))throw new Error("localStorage support check failed");g()}catch(t){h(t)}};var at=$("batch"),ct=function(t,e){e=e||{},this.storageKey=t,this.storage=e.storage||window.localStorage,this.lock=new st(t,{storage:this.storage}),this.pid=e.pid||null,this.memQueue=[]};ct.prototype.enqueue=function(t,e,i){var r={id:H(),flushAfter:(new Date).getTime()+2*e,payload:t};this.lock.withLock(D.bind((function(){var e;try{var n=this.readFromStorage();n.push(r),(e=this.saveToStorage(n))&&this.memQueue.push(r)}catch(i){at.error("Error enqueueing item",t),e=!1}i&&i(e)}),this),(function(t){at.error("Error acquiring storage lock",t),i&&i(!1)}),this.pid)},ct.prototype.fillBatch=function(t){var e=this.memQueue.slice(0,t);if(e.length<t){var i=this.readFromStorage();if(i.length){var r={};D.each(e,(function(t){r[t.id]=!0}));for(var n=0;n<i.length;n++){var o=i[n];if((new Date).getTime()>o.flushAfter&&!r[o.id]&&(e.push(o),e.length>=t))break}}}return e};var ut=function(t,e){var i=[];return D.each(t,(function(t){t.id&&!e[t.id]&&i.push(t)})),i};ct.prototype.removeItemsByID=function(t,e){var i={};D.each(t,(function(t){i[t]=!0})),this.memQueue=ut(this.memQueue,i),this.lock.withLock(D.bind((function(){var r;try{var n=this.readFromStorage();n=ut(n,i),r=this.saveToStorage(n)}catch(e){at.error("Error removing items",t),r=!1}e&&e(r)}),this),(function(t){at.error("Error acquiring storage lock",t),e&&e(!1)}),this.pid)},ct.prototype.readFromStorage=function(){var t;try{(t=this.storage.getItem(this.storageKey))&&(t=V(t),D.isArray(t)||(at.error("Invalid storage entry:",t),t=null))}catch(e){at.error("Error retrieving queue",e),t=null}return t||[]},ct.prototype.saveToStorage=function(t){try{return this.storage.setItem(this.storageKey,W(t)),!0}catch(t){return at.error("Error saving queue",t),!1}},ct.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var pt=$("batch"),lt=function(t,e,i){this.queue=new ct(t,{storage:i.storage}),this.endpoint=e,this.libConfig=i.libConfig,this.sendRequest=i.sendRequestFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!1};lt.prototype.enqueue=function(t,e){this.queue.enqueue(t,this.flushInterval,e)},lt.prototype.start=function(){this.stopped=!1,this.flush()},lt.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},lt.prototype.clear=function(){this.queue.clear()},lt.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size},lt.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)},lt.prototype.scheduleFlush=function(t){this.flushInterval=t,this.stopped||(this.timeoutID=setTimeout(D.bind(this.flush,this),this.flushInterval))},lt.prototype.flush=function(t){try{if(this.requestInProgress)return void pt.log("Flush: Request already in progress");t=t||{};var e=this.batchSize,i=this.queue.fillBatch(e);if(i.length<1)return void this.resetFlush();this.requestInProgress=!0;var r=this.libConfig.batch_request_timeout_ms,n=(new Date).getTime(),o=D.map(i,(function(t){return t.payload})),s=D.bind((function(t){this.requestInProgress=!1;try{var o=!1;if(D.isObject(t)&&"timeout"===t.error&&(new Date).getTime()-n>=r)pt.error("Network timeout; retrying"),this.flush();else if(D.isObject(t)&&t.xhr_req&&(t.xhr_req.status>=500||t.xhr_req.status<=0)){var s=2*this.flushInterval,a=t.xhr_req.responseHeaders;if(a){var c=a["Retry-After"];c&&(s=1e3*parseInt(c,10)||s)}s=Math.min(6e5,s),pt.error("Error; retry in "+s+" ms"),this.scheduleFlush(s)}else if(D.isObject(t)&&t.xhr_req&&413===t.xhr_req.status)if(i.length>1){var u=Math.max(1,Math.floor(e/2));this.batchSize=Math.min(this.batchSize,u,i.length-1),pt.error("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else pt.error("Single-event request too large; dropping",i),this.resetBatchSize(),o=!0;else o=!0;o&&this.queue.removeItemsByID(D.map(i,(function(t){return t.id})),D.bind(this.flush,this))}catch(t){pt.error("Error handling API response",t),this.resetFlush()}}),this),a={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:r};t.sendBeacon&&(a.transport="sendBeacon"),pt.log("MIXPANEL REQUEST:",this.endpoint,o),this.sendRequest(this.endpoint,o,a,s)}catch(t){pt.error("Error flushing request queue",t),this.resetFlush()}};function ht(t,e){xt(!0,t,e)}function ft(t,e){xt(!1,t,e)}function dt(t,e){return"1"===kt(t,e)}function _t(t,e){return!!function(t){if(t&&t.ignoreDnt)return!1;var e=t&&t.window||r,i=e.navigator||{},n=!1;return D.each([i.doNotTrack,i.msDoNotTrack,e.doNotTrack],(function(t){D.includes([!0,1,"1","yes"],t)&&(n=!0)})),n}(e)||"0"===kt(t,e)}function gt(t){return Ot(t,(function(t){return this.get_config(t)}))}function mt(t){return Ot(t,(function(t){return this._get_config(t)}))}function yt(t){return Ot(t,(function(t){return this._get_config(t)}))}function vt(t,e){bt(e=e||{}).remove(wt(t,e),!!e.crossSubdomainCookie,e.cookieDomain)}function bt(t){return"localStorage"===(t=t||{}).persistenceType?D.localStorage:D.cookie}function wt(t,e){return((e=e||{}).persistencePrefix||"__mp_opt_in_out_")+t}function kt(t,e){return bt(e).get(wt(t,e))}function xt(t,e,i){D.isString(e)&&e.length?(bt(i=i||{}).set(wt(e,i),t?1:0,D.isNumber(i.cookieExpiration)?i.cookieExpiration:null,!!i.crossSubdomainCookie,!!i.secureCookie,!!i.crossSiteCookie,i.cookieDomain),i.track&&t&&i.track(i.trackEventName||"$opt_in",i.trackProperties,{send_immediately:!0})):console.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token")}function Ot(t,e){return function(){var i=!1;try{var r=e.call(this,"token"),n=e.call(this,"ignore_dnt"),o=e.call(this,"opt_out_tracking_persistence_type"),s=e.call(this,"opt_out_tracking_cookie_prefix"),a=e.call(this,"window");r&&(i=_t(r,{ignoreDnt:n,persistenceType:o,persistencePrefix:s,window:a}))}catch(t){console.error("Unexpected error when checking tracking opt-out status: "+t)}if(!i)return t.apply(this,arguments);var c=arguments[arguments.length-1];"function"==typeof c&&c(0)}}var Et={set_action:function(t,e){var i={},r={};return D.isObject(t)?D.each(t,(function(t,e){this._is_reserved_property(e)||(r[e]=t)}),this):r[t]=e,i.$set=r,i},unset_action:function(t){var e={},i=[];return D.isArray(t)||(t=[t]),D.each(t,(function(t){this._is_reserved_property(t)||i.push(t)}),this),e.$unset=i,e},set_once_action:function(t,e){var i={},r={};return D.isObject(t)?D.each(t,(function(t,e){this._is_reserved_property(e)||(r[e]=t)}),this):r[t]=e,i.$set_once=r,i},union_action:function(t,e){var i={},r={};return D.isObject(t)?D.each(t,(function(t,e){this._is_reserved_property(e)||(r[e]=D.isArray(t)?t:[t])}),this):r[t]=D.isArray(e)?e:[e],i.$union=r,i},append_action:function(t,e){var i={},r={};return D.isObject(t)?D.each(t,(function(t,e){this._is_reserved_property(e)||(r[e]=t)}),this):r[t]=e,i.$append=r,i},remove_action:function(t,e){var i={},r={};return D.isObject(t)?D.each(t,(function(t,e){this._is_reserved_property(e)||(r[e]=t)}),this):r[t]=e,i.$remove=r,i},delete_action:function(){var t={$delete:""};return t}},It=function(){};D.extend(It.prototype,Et),It.prototype._init=function(t,e,i){this._mixpanel=t,this._group_key=e,this._group_id=i},It.prototype.set=yt((function(t,e,i){var r=this.set_action(t,e);return D.isObject(t)&&(i=e),this._send_request(r,i)})),It.prototype.set_once=yt((function(t,e,i){var r=this.set_once_action(t,e);return D.isObject(t)&&(i=e),this._send_request(r,i)})),It.prototype.unset=yt((function(t,e){var i=this.unset_action(t);return this._send_request(i,e)})),It.prototype.union=yt((function(t,e,i){D.isObject(t)&&(i=e);var r=this.union_action(t,e);return this._send_request(r,i)})),It.prototype.delete=yt((function(t){var e=this.delete_action();return this._send_request(e,t)})),It.prototype.remove=yt((function(t,e,i){var r=this.remove_action(t,e);return this._send_request(r,i)})),It.prototype._send_request=function(t,e){t.$group_key=this._group_key,t.$group_id=this._group_id,t.$token=this._get_config("token");var i=D.encodeDates(t);return this._mixpanel._track_or_batch({truncated_data:D.truncate(i,255),endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},e)},It.prototype._is_reserved_property=function(t){return"$group_key"===t||"$group_id"===t},It.prototype._get_config=function(t){return this._mixpanel.get_config(t)},It.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id},It.prototype.remove=It.prototype.remove,It.prototype.set=It.prototype.set,It.prototype.set_once=It.prototype.set_once,It.prototype.union=It.prototype.union,It.prototype.unset=It.prototype.unset,It.prototype.toString=It.prototype.toString;var Tt=["__mps","__mpso","__mpus","__mpa","__mpap","__mpr","__mpu","$people_distinct_id","__alias","__cmpns","__timers"],St=function(t){this.props={},this.campaign_params_saved=!1,t.persistence_name?this.name="mp_"+t.persistence_name:this.name="mp_"+t.token+"_mixpanel";var e=t.persistence;"cookie"!==e&&"localStorage"!==e&&(B.critical("Unknown persistence type "+e+"; falling back to cookie"),e=t.persistence="cookie"),"localStorage"===e&&D.localStorage.is_supported()?this.storage=D.localStorage:this.storage=D.cookie,this.load(),this.update_config(t),this.upgrade(t),this.save()};St.prototype.properties=function(){var t={};return D.each(this.props,(function(e,i){D.include(Tt,i)||(t[i]=e)})),t},St.prototype.load=function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=D.extend({},t))}},St.prototype.upgrade=function(t){var e,i,r=t.upgrade;r&&(e="mp_super_properties","string"==typeof r&&(e=r),i=this.storage.parse(e),this.storage.remove(e),this.storage.remove(e,!0),i&&(this.props=D.extend(this.props,i.all,i.events))),t.cookie_name||"mixpanel"===t.name||(e="mp_"+t.token+"_"+t.name,(i=this.storage.parse(e))&&(this.storage.remove(e),this.storage.remove(e,!0),this.register_once(i))),this.storage===D.localStorage&&(i=D.cookie.parse(this.name),D.cookie.remove(this.name),D.cookie.remove(this.name,!0),i&&this.register_once(i))},St.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,D.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain))},St.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)},St.prototype.clear=function(){this.remove(),this.props={}},St.prototype.register_once=function(t,e,i){return!!D.isObject(t)&&(void 0===e&&(e="None"),this.expire_days=void 0===i?this.default_expiry:i,D.each(t,(function(t,i){this.props.hasOwnProperty(i)&&this.props[i]!==e||(this.props[i]=t)}),this),this.save(),!0)},St.prototype.register=function(t,e){return!!D.isObject(t)&&(this.expire_days=void 0===e?this.default_expiry:e,D.extend(this.props,t),this.save(),!0)},St.prototype.unregister=function(t){t in this.props&&(delete this.props[t],this.save())},St.prototype._expire_notification_campaigns=D.safewrap((function(){var t=this.props.__cmpns,e=n.DEBUG?6e4:36e5;if(t){for(var i in t)1*new Date-t[i]>e&&delete t[i];D.isEmptyObject(t)&&delete this.props.__cmpns}})),St.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(D.info.campaignParams()),this.campaign_params_saved=!0)},St.prototype.update_search_keyword=function(t){this.register(D.info.searchInfo(t))},St.prototype.update_referrer_info=function(t){this.register_once({$initial_referrer:t||"$direct",$initial_referring_domain:D.info.referringDomain(t)||"$direct"},"")},St.prototype.get_referrer_info=function(){return D.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},St.prototype.safe_merge=function(t){return D.each(this.props,(function(e,i){i in t||(t[i]=e)})),t},St.prototype.update_config=function(t){this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cookie_domain(t.cookie_domain),this.set_cross_site(t.cross_site_cookie),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie)},St.prototype.set_disabled=function(t){this.disabled=t,this.disabled?this.remove():this.save()},St.prototype.set_cookie_domain=function(t){t!==this.cookie_domain&&(this.remove(),this.cookie_domain=t,this.save())},St.prototype.set_cross_site=function(t){t!==this.cross_site&&(this.cross_site=t,this.remove(),this.save())},St.prototype.set_cross_subdomain=function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())},St.prototype.get_cross_subdomain=function(){return this.cross_subdomain},St.prototype.set_secure=function(t){t!==this.secure&&(this.secure=!!t,this.remove(),this.save())},St.prototype._add_to_people_queue=function(t,e){var i=this._get_queue_key(t),r=e[t],n=this._get_or_create_queue("$set"),o=this._get_or_create_queue("$set_once"),s=this._get_or_create_queue("$unset"),a=this._get_or_create_queue("$add"),c=this._get_or_create_queue("$union"),u=this._get_or_create_queue("$remove",[]),p=this._get_or_create_queue("$append",[]);"__mps"===i?(D.extend(n,r),this._pop_from_people_queue("$add",r),this._pop_from_people_queue("$union",r),this._pop_from_people_queue("$unset",r)):"__mpso"===i?(D.each(r,(function(t,e){e in o||(o[e]=t)})),this._pop_from_people_queue("$unset",r)):"__mpus"===i?D.each(r,(function(t){D.each([n,o,a,c],(function(e){t in e&&delete e[t]})),D.each(p,(function(e){t in e&&delete e[t]})),s[t]=!0})):"__mpa"===i?(D.each(r,(function(t,e){e in n?n[e]+=t:(e in a||(a[e]=0),a[e]+=t)}),this),this._pop_from_people_queue("$unset",r)):"__mpu"===i?(D.each(r,(function(t,e){D.isArray(t)&&(e in c||(c[e]=[]),c[e]=c[e].concat(t))})),this._pop_from_people_queue("$unset",r)):"__mpr"===i?(u.push(r),this._pop_from_people_queue("$append",r)):"__mpap"===i&&(p.push(r),this._pop_from_people_queue("$unset",r)),B.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),B.log(e),this.save()},St.prototype._pop_from_people_queue=function(t,e){var i=this._get_queue(t);D.isUndefined(i)||(D.each(e,(function(e,r){"$append"===t||"$remove"===t?D.each(i,(function(t){t[r]===e&&delete t[r]})):delete i[r]}),this),this.save())},St.prototype._get_queue_key=function(t){return"$set"===t?"__mps":"$set_once"===t?"__mpso":"$unset"===t?"__mpus":"$add"===t?"__mpa":"$append"===t?"__mpap":"$remove"===t?"__mpr":"$union"===t?"__mpu":void B.error("Invalid queue:",t)},St.prototype._get_queue=function(t){return this.props[this._get_queue_key(t)]},St.prototype._get_or_create_queue=function(t,e){var i=this._get_queue_key(t);return e=D.isUndefined(e)?{}:e,this.props[i]||(this.props[i]=e)},St.prototype.set_event_timer=function(t,e){var i=this.props.__timers||{};i[t]=e,this.props.__timers=i,this.save()},St.prototype.remove_event_timer=function(t){var e=(this.props.__timers||{})[t];return D.isUndefined(e)||(delete this.props.__timers[t],this.save()),e};var jt="in",Nt="not in",At="-",Pt="*",Ct="/",Mt="%",Dt="==",Bt="!=",qt=">",$t="<",Ut=">=",Ft="<=",Rt="defined",Ht="not defined";function Lt(t){if(null===t)return null;switch(typeof t){case"object":return D.isDate(t)&&t.getTime()>=0?t.getTime():null;case"boolean":return Number(t);case"number":return t;case"string":return t=Number(t),isNaN(t)?0:t}return null}function zt(t){if(null===t)return!1;switch(typeof t){case"boolean":return t;case"number":return 0!==t;case"string":return t.length>0;case"object":return!!(D.isArray(t)&&t.length>0)||(!!(D.isDate(t)&&t.getTime()>0)||!(!D.isObject(t)||D.isEmptyObject(t)))}return!1}function Gt(t,e){if(!t.operator||-1===[Dt,Bt].indexOf(t.operator)||!t.children||2!==t.children.length)throw"Invalid equality operator "+t;var i=function(t,e){if(null===t&&t===e)return!0;if(typeof t==typeof e)switch(typeof t){case"number":case"string":case"boolean":return t===e;case"object":if(D.isArray(t)&&D.isArray(e))return function(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}(t,e);if(D.isDate(t)&&D.isDate(e))return t.getTime()===e.getTime();if(D.isObject(t)&&D.isObject(e))return JSON.stringify(t)===JSON.stringify(e)}return!1}(Vt(t.children[0],e),Vt(t.children[1],e));switch(t.operator){case Dt:return i;case Bt:return!i}}function Jt(t,e){if(!t.operator)throw"Invalid operator: operator key missing "+t;switch(t.operator){case"and":return function(t,e){if(!t.operator||"and"!==t.operator||!t.children||2!==t.children.length)throw"Invalid operator: AND "+t;return zt(Vt(t.children[0],e))&&zt(Vt(t.children[1],e))}(t,e);case"or":return function(t,e){if(!t.operator||"or"!==t.operator||!t.children||2!==t.children.length)throw"Invalid operator: OR "+t;return zt(Vt(t.children[0],e))||zt(Vt(t.children[1],e))}(t,e);case jt:case Nt:return function(t,e){if(!t.operator||-1===[jt,Nt].indexOf(t.operator)||!t.children||2!==t.children.length)throw"Invalid operator: IN/NOT IN "+t;var i=Vt(t.children[0],e),r=Vt(t.children[1],e);if(!D.isArray(r)&&!D.isString(r))throw"Invalid operand for operator IN: invalid type"+r;var n=r.indexOf(i)>-1;return t.operator===Nt?!n:n}(t,e);case"+":return function(t,e){if(!t.operator||"+"!==t.operator||!t.children||t.children.length<2)throw"Invalid operator: PLUS "+t;var i=Vt(t.children[0],e),r=Vt(t.children[1],e);return"number"==typeof i&&"number"==typeof r||"string"==typeof i&&"string"==typeof r?i+r:null}(t,e);case At:case Pt:case Ct:case Mt:return function(t,e){if(!t.operator||-1===[At,Pt,Ct,Mt].indexOf(t.operator)||!t.children||t.children.length<2)throw"Invalid arithmetic operator "+t;var i=Vt(t.children[0],e),r=Vt(t.children[1],e);if("number"==typeof i&&"number"==typeof r)switch(t.operator){case At:return i-r;case Pt:return i*r;case Ct:return 0!==r?i/r:null;case Mt:return 0===r?null:0===i?0:i<0&&r>0||i>0&&r<0?-(Math.floor(i/r)*r-i):i%r;default:throw"Unknown operator: "+t.operator}return null}(t,e);case Dt:case Bt:return Gt(t,e);case qt:case $t:case Ut:case Ft:return function(t,e){if(!t.operator||-1===[qt,Ut,$t,Ft].indexOf(t.operator)||!t.children||2!==t.children.length)throw"Invalid comparison operator "+t;var i=Vt(t.children[0],e),r=Vt(t.children[1],e);if(typeof i==typeof r)if("number"==typeof r||D.isDate(r))switch(i=Lt(i),r=Lt(r),t.operator){case qt:return i>r;case Ut:return i>=r;case $t:return i<r;case Ft:return i<=r}else if("string"==typeof r){var n=i.localeCompare(r);switch(t.operator){case qt:return n>0;case Ut:return n>=0;case $t:return n<0;case Ft:return n<=0}}return null}(t,e);case"boolean":return function(t,e){if(!t.operator||"boolean"!==t.operator||!t.children||1!==t.children.length)throw"Invalid cast operator: boolean "+t;return zt(Vt(t.children[0],e))}(t,e);case"datetime":return function(t,e){if(!t.operator||"datetime"!==t.operator||!t.children||1!==t.children.length)throw"Invalid cast operator: datetime "+t;var i=Vt(t.children[0],e);if(null===i)return null;switch(typeof i){case"number":case"string":var r=new Date(i);return isNaN(r.getTime())?null:r;case"object":if(D.isDate(i))return i}return null}(t,e);case"list":return function(t,e){if(!t.operator||"list"!==t.operator||!t.children||1!==t.children.length)throw"Invalid cast operator: list "+t;var i=Vt(t.children[0],e);return null===i?null:D.isArray(i)?i:null}(t,e);case"number":return function(t,e){if(!t.operator||"number"!==t.operator||!t.children||1!==t.children.length)throw"Invalid cast operator: number "+t;return Lt(Vt(t.children[0],e))}(t,e);case"string":return function(t,e){if(!t.operator||"string"!==t.operator||!t.children||1!==t.children.length)throw"Invalid cast operator: string "+t;var i=Vt(t.children[0],e);switch(typeof i){case"object":return D.isDate(i)?i.toJSON():JSON.stringify(i)}return String(i)}(t,e);case Rt:case Ht:return function(t,e){if(!t.operator||-1===[Rt,Ht].indexOf(t.operator)||!t.children||1!==t.children.length)throw"Invalid defined/not defined operator: "+t;var i=null!==Vt(t.children[0],e);return t.operator===Ht?!i:i}(t,e);case"not":return function(t,e){if(!t.operator||"not"!==t.operator||!t.children||1!==t.children.length)throw"Invalid not operator: "+t;var i=Vt(t.children[0],e);return null===i||("boolean"==typeof i?!i:null)}(t,e)}}function Wt(t,e){if(!t.property||!t.value)throw"Invalid operand: missing required keys "+t;switch(t.property){case"event":return void 0!==e[t.value]?e[t.value]:null;case"literal":return"now"===t.value?new Date:"object"==typeof t.value?function(t){var e=t.window;if(!e||!e.unit||!e.value)throw"Invalid window: missing required keys "+JSON.stringify(t);var i=new Date;switch(e.unit){case"hour":i.setTime(i.getTime()+-1*e.value*60*60*1e3);break;case"day":i.setTime(i.getTime()+-1*e.value*24*60*60*1e3);break;case"week":i.setTime(i.getTime()+-1*e.value*7*24*60*60*1e3);break;case"month":i.setTime(i.getTime()+-1*e.value*30*24*60*60*1e3);break;default:throw"Invalid unit: "+e.unit}return i}(t.value):t.value;default:throw"Invalid operand: Invalid property type "+t.property}}function Vt(t,e){return t.property?Wt(t,e):t.operator?Jt(t,e):void 0}var Xt=function(t,e){D.bind_instance_methods(this),this.mixpanel=e,this.persistence=this.mixpanel.persistence,this.resource_protocol=this.mixpanel.get_config("inapp_protocol"),this.cdn_host=this.mixpanel.get_config("cdn"),this.campaign_id=D.escapeHTML(t.id),this.message_id=D.escapeHTML(t.message_id),this.body=(D.escapeHTML(t.body)||"").replace(/\n/g,"<br/>"),this.cta=D.escapeHTML(t.cta)||"Close",this.notif_type=D.escapeHTML(t.type)||"takeover",this.style=D.escapeHTML(t.style)||"light",this.title=D.escapeHTML(t.title)||"",this.video_width=Xt.VIDEO_WIDTH,this.video_height=Xt.VIDEO_HEIGHT,this.display_triggers=t.display_triggers||[],this.dest_url=t.cta_url||null,this.image_url=t.image_url||null,this.thumb_image_url=t.thumb_image_url||null,this.video_url=t.video_url||null,this.thumb_image_url&&0===this.thumb_image_url.indexOf("//")&&(this.thumb_image_url=this.thumb_image_url.replace("//",this.resource_protocol)),this.clickthrough=!0,this.dest_url||(this.dest_url="#dismiss",this.clickthrough=!1),this.mini="mini"===this.notif_type,this.mini||(this.notif_type="takeover"),this.notif_width=this.mini?Xt.NOTIF_WIDTH_MINI:Xt.NOTIF_WIDTH,this._set_client_config(),this.imgs_to_preload=this._init_image_html(),this._init_video()};Xt.ANIM_TIME=200,Xt.MARKUP_PREFIX="mixpanel-notification",Xt.BG_OPACITY=.6,Xt.NOTIF_TOP=25,Xt.NOTIF_START_TOP=200,Xt.NOTIF_WIDTH=388,Xt.NOTIF_WIDTH_MINI=420,Xt.NOTIF_HEIGHT_MINI=85,Xt.THUMB_BORDER_SIZE=5,Xt.THUMB_IMG_SIZE=60,Xt.THUMB_OFFSET=Math.round(Xt.THUMB_IMG_SIZE/2),Xt.VIDEO_WIDTH=595,Xt.VIDEO_HEIGHT=334,Xt.prototype.show=function(){var t=this;this._set_client_config(),this.body_el?(this._init_styles(),this._init_notification_el(),this._preload_images(this._attach_and_animate)):setTimeout((function(){t.show()}),300)},Xt.prototype.dismiss=D.safewrap((function(){this.marked_as_shown||this._mark_delivery({invisible:!0});var t,e,i,r=this.showing_video?this._get_el("video"):this._get_notification_display_el();this.use_transitions?(this._remove_class("bg","visible"),this._add_class(r,"exiting"),setTimeout(this._remove_notification_el,Xt.ANIM_TIME)):(this.mini?(t="right",e=20,i=-100):(t="top",e=Xt.NOTIF_TOP,i=Xt.NOTIF_START_TOP+Xt.NOTIF_TOP),this._animate_els([{el:this._get_el("bg"),attr:"opacity",start:Xt.BG_OPACITY,goal:0},{el:r,attr:"opacity",start:1,goal:0},{el:r,attr:t,start:e,goal:i}],Xt.ANIM_TIME,this._remove_notification_el))})),Xt.prototype._add_class=D.safewrap((function(t,e){e=Xt.MARKUP_PREFIX+"-"+e,"string"==typeof t&&(t=this._get_el(t)),t.className?~(" "+t.className+" ").indexOf(" "+e+" ")||(t.className+=" "+e):t.className=e})),Xt.prototype._remove_class=D.safewrap((function(t,e){e=Xt.MARKUP_PREFIX+"-"+e,"string"==typeof t&&(t=this._get_el(t)),t.className&&(t.className=(" "+t.className+" ").replace(" "+e+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))})),Xt.prototype._animate_els=D.safewrap((function(t,e,i,r){var n,o,s,a=this,c=!1,u=1*new Date;for(s=u-(r=r||u),n=0;n<t.length;n++)if(void 0===(o=t[n]).val&&(o.val=o.start),o.val!==o.goal){c=!0;var p=o.goal-o.start,l=o.goal>=o.start?1:-1;o.val=o.start+p*s/e,"opacity"!==o.attr&&(o.val=Math.round(o.val)),(l>0&&o.val>=o.goal||l<0&&o.val<=o.goal)&&(o.val=o.goal)}if(c){for(n=0;n<t.length;n++)if((o=t[n]).el){var h="opacity"===o.attr?"":"px";o.el.style[o.attr]=String(o.val)+h}setTimeout((function(){a._animate_els(t,e,i,r)}),10)}else i&&i()})),Xt.prototype._attach_and_animate=D.safewrap((function(){var t=this;if(!this.shown&&!this._get_shown_campaigns()[this.campaign_id]){this.shown=!0,this.body_el.appendChild(this.notification_el),setTimeout((function(){var e,i,r,n=t._get_notification_display_el();t.use_transitions?(t.mini||t._add_class("bg","visible"),t._add_class(n,"visible"),t._mark_as_shown()):(t.mini?(e="right",i=-100,r=20):(e="top",i=Xt.NOTIF_START_TOP+Xt.NOTIF_TOP,r=Xt.NOTIF_TOP),t._animate_els([{el:t._get_el("bg"),attr:"opacity",start:0,goal:Xt.BG_OPACITY},{el:n,attr:"opacity",start:0,goal:1},{el:n,attr:e,start:i,goal:r}],Xt.ANIM_TIME,t._mark_as_shown))}),100),D.register_event(t._get_el("cancel"),"click",(function(e){e.preventDefault(),t.dismiss()}));var e=t._get_el("button")||t._get_el("mini-content");D.register_event(e,"click",(function(e){if(e.preventDefault(),t.show_video)t._track_event("$campaign_open",{$resource_type:"video"}),t._switch_to_video();else if(t.dismiss(),t.clickthrough){var i=null;t.mixpanel.get_config("inapp_link_new_window")?window.open(t.dest_url):i=function(){window.location.href=t.dest_url},t._track_event("$campaign_open",{$resource_type:"link"},i)}}))}})),Xt.prototype._get_el=function(t){return document.getElementById(Xt.MARKUP_PREFIX+"-"+t)},Xt.prototype._get_notification_display_el=function(){return this._get_el(this.notif_type)},Xt.prototype._get_shown_campaigns=function(){return this.persistence.props.__cmpns||(this.persistence.props.__cmpns={})},Xt.prototype._matches_event_data=D.safewrap((function(t){for(var e=t.event||"",i=0;i<this.display_triggers.length;i++){var r=this.display_triggers[i];if("$any_event"===(r.event||"")||e===r.event){if(!r.selector||D.isEmptyObject(r.selector))return!0;if(Vt(r.selector,t.properties))return!0}}return!1})),Xt.prototype._browser_lte=function(t,e){return this.browser_versions[t]&&this.browser_versions[t]<=e},Xt.prototype._init_image_html=function(){var t=[];return this.mini?(this.thumb_image_url=this.thumb_image_url||this.cdn_host+"/site_media/images/icons/notifications/mini-news-dark.png",t.push(this.thumb_image_url)):(this.image_url?(t.push(this.image_url),this.img_html='<img id="img" src="'+this.image_url+'"/>'):this.img_html="",this.thumb_image_url?(t.push(this.thumb_image_url),this.thumb_img_html='<div id="thumbborder-wrapper"><div id="thumbborder"></div></div><img id="thumbnail" src="'+this.thumb_image_url+'" width="'+Xt.THUMB_IMG_SIZE+'" height="'+Xt.THUMB_IMG_SIZE+'"/><div id="thumbspacer"></div>'):this.thumb_img_html=""),t},Xt.prototype._init_notification_el=function(){var t="",e="",i="",r='<div id="cancel"><div id="cancel-icon"></div></div>';if(this.notification_el=document.createElement("div"),this.notification_el.id=Xt.MARKUP_PREFIX+"-wrapper",this.mini)t='<div id="mini"><div id="mainbox">'+r+'<div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"></div></div><div id="body"><div id="body-text"><div>'+this.body+'</div></div></div></div></div><div id="mini-border"></div></div>';else{var n=this.clickthrough||this.show_video?"":'<div id="button-close"></div>',o=this.show_video?'<div id="button-play"></div>':"";this._browser_lte("ie",7)&&(n="",o=""),t='<div id="takeover">'+this.thumb_img_html+'<div id="mainbox">'+r+'<div id="content">'+this.img_html+'<div id="title">'+this.title+'</div><div id="body">'+this.body+'</div><div id="tagline"><a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL</a></div></div><div id="button">'+n+'<a id="button-link" href="'+this.dest_url+'">'+this.cta+"</a>"+o+"</div></div></div>"}this.youtube_video?(e=this.resource_protocol+"www.youtube.com/embed/"+this.youtube_video+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.yt_custom&&(e+="&enablejsapi=1&html5=1&controls=0",i='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"></div><div id="video-elapsed" class="video-progress-el"></div></div><div id="video-time" class="video-progress-el"></div></div>')):this.vimeo_video&&(e=this.resource_protocol+"player.vimeo.com/video/"+this.vimeo_video+"?autoplay=1&title=0&byline=0&portrait=0"),this.show_video&&(this.video_iframe='<iframe id="'+Xt.MARKUP_PREFIX+'-video-frame" width="'+this.video_width+'" height="'+this.video_height+'"  src="'+e+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"></iframe>',i='<div id="video-'+(this.flip_animate?"":"no")+'flip"><div id="video"><div id="video-holder"></div>'+i+"</div></div>");var s=i+t;this.flip_animate&&(s=(this.mini?t:"")+'<div id="flipcontainer"><div id="flipper">'+(this.mini?i:s)+"</div></div>"),this.notification_el.innerHTML=('<div id="overlay" class="'+this.notif_type+'"><div id="campaignid-'+this.campaign_id+'"><div id="bgwrapper"><div id="bg"></div>'+s+"</div></div></div>").replace(/class="/g,'class="'+Xt.MARKUP_PREFIX+"-").replace(/id="/g,'id="'+Xt.MARKUP_PREFIX+"-")},Xt.prototype._init_styles=function(){"dark"===this.style?this.style_vals={bg:"#1d1f25",bg_actions:"#282b32",bg_hover:"#3a4147",bg_light:"#4a5157",border_gray:"#32353c",cancel_opacity:"0.4",mini_hover:"#2a3137",text_title:"#fff",text_main:"#9498a3",text_tagline:"#464851",text_hover:"#ddd"}:this.style_vals={bg:"#fff",bg_actions:"#e7eaee",bg_hover:"#eceff3",bg_light:"#f5f5f5",border_gray:"#e4ecf2",cancel_opacity:"1.0",mini_hover:"#fafafa",text_title:"#5c6578",text_main:"#8b949b",text_tagline:"#ced9e6",text_hover:"#7c8598"};var t="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",e=t,i=t,r=Xt.THUMB_IMG_SIZE+2*Xt.THUMB_BORDER_SIZE,n=Xt.ANIM_TIME/1e3+"s";this.mini&&(t="none");var o={};o["@media only screen and (max-width: "+(Xt.NOTIF_WIDTH_MINI+20-1)+"px)"]={"#overlay":{display:"none"}};var s={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.doc_width+"px","min-height":4*this.doc_height+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",filter:"alpha(opacity=60)",transition:"opacity "+n},"#bg.visible":{opacity:Xt.BG_OPACITY},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:Xt.NOTIF_WIDTH+"px","margin-left":Math.round(-Xt.NOTIF_WIDTH/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:Xt.NOTIF_START_TOP+"px",transition:"opacity "+n+", top "+n},"#takeover.visible":{opacity:"1.0",top:Xt.NOTIF_TOP+"px"},"#takeover.exiting":{opacity:"0.0",top:Xt.NOTIF_START_TOP+"px"},"#thumbspacer":{height:Xt.THUMB_OFFSET+"px"},"#thumbborder-wrapper":{position:"absolute",top:-Xt.THUMB_BORDER_SIZE+"px",left:Xt.NOTIF_WIDTH/2-Xt.THUMB_OFFSET-Xt.THUMB_BORDER_SIZE+"px",width:r+"px",height:r/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:r+"px",height:r+"px","border-radius":r+"px","background-color":this.style_vals.bg_actions,opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:Xt.NOTIF_WIDTH/2-Xt.THUMB_OFFSET+"px",width:Xt.THUMB_IMG_SIZE+"px",height:Xt.THUMB_IMG_SIZE+"px",overflow:"hidden","z-index":"100","border-radius":Xt.THUMB_IMG_SIZE+"px"},"#mini":{position:"absolute",right:"20px",top:Xt.NOTIF_TOP+"px",width:this.notif_width+"px",height:2*Xt.NOTIF_HEIGHT_MINI+"px","margin-top":20-Xt.NOTIF_HEIGHT_MINI+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":t,"text-align":"center","background-color":this.style_vals.bg,"font-size":"14px",color:this.style_vals.text_main},"#mini #mainbox":{height:Xt.NOTIF_HEIGHT_MINI+"px","margin-top":Xt.NOTIF_HEIGHT_MINI+"px","border-radius":"3px",transition:"background-color "+n},"#mini-border":{height:Xt.NOTIF_HEIGHT_MINI+6+"px",width:Xt.NOTIF_WIDTH_MINI+6+"px",position:"absolute",top:"-3px",left:"-3px","margin-top":Xt.NOTIF_HEIGHT_MINI+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":i},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:Xt.NOTIF_HEIGHT_MINI+"px","border-radius":"3px 0 0 3px","background-color":this.style_vals.bg_actions,background:"linear-gradient(135deg, "+this.style_vals.bg_light+" 0%, "+this.style_vals.bg_actions+" 100%)",transition:"background-color "+n},"#mini:hover #mini-icon":{"background-color":this.style_vals.mini_hover},"#mini:hover #mainbox":{"background-color":this.style_vals.mini_hover},"#mini-icon-img":{position:"absolute","background-image":"url("+this.thumb_image_url+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:Xt.NOTIF_HEIGHT_MINI+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden","word-wrap":"break-word",padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.style_vals.text_title},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:Xt.NOTIF_HEIGHT_MINI+"px","font-size":"16px","letter-spacing":"0.8px",color:this.style_vals.text_title},"#mini #body-text":{display:"table",height:Xt.NOTIF_HEIGHT_MINI+"px"},"#mini #body-text div":{display:"table-cell","vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.style_vals.text_tagline,transition:"color "+n},"#tagline a:hover":{color:this.style_vals.text_hover},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",cursor:"pointer",transition:"background-color "+n},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",height:"8px",overflow:"hidden","background-image":"url("+this.cdn_host+"/site_media/images/icons/notifications/cancel-x.png)",opacity:this.style_vals.cancel_opacity},"#cancel:hover":{"background-color":this.style_vals.bg_hover},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.style_vals.bg_actions,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+n},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top","background-image":"url("+this.cdn_host+"/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url("+this.cdn_host+"/site_media/images/icons/notifications/play-"+this.style+"-small.png)","background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center","font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.style_vals.text_title,transition:"color "+n},"#button:hover":{"background-color":this.style_vals.bg_hover,color:this.style_vals.text_hover},"#button:hover a":{color:this.style_vals.text_hover},"#video-noflip":{position:"relative",top:2*-this.video_height+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",top:Xt.NOTIF_TOP+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.video_width/2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":e,transform:"translateZ(1px)",transition:"opacity "+n+", top "+n},"#video.exiting":{opacity:"0.0",top:this.video_height+"px"},"#video-holder":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.video_width+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.style_vals.bg,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.style_vals.text_main,"background-color":"#666","border-radius":"0 0 5px 0"}};this._browser_lte("ie",8)&&D.extend(s,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}}),this._browser_lte("ie",7)&&D.extend(s,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.style_vals.bg_hover},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});var a=["backface-visibility","border-radius","box-shadow","opacity","perspective","transform","transform-style","transition"],c=["khtml","moz","ms","o","webkit"];for(var u in s)for(var p=0;p<a.length;p++){var l=a[p];if(l in s[u])for(var h=s[u][l],f=0;f<c.length;f++)s[u]["-"+c[f]+"-"+l]=h}var d,_,g,m,y;d=o,g=(_=function(t){var e="";for(var i in t){e+="\n"+i.replace(/#/g,"#"+Xt.MARKUP_PREFIX+"-").replace(/\./g,"."+Xt.MARKUP_PREFIX+"-")+" {";var r=t[i];for(var n in r)e+=n+":"+r[n]+";";e+="}"}return e})(s)+function(t){var e="";for(var i in t)e+="\n"+i+" {"+_(t[i])+"\n}";return e}(d),m=document.head||document.getElementsByTagName("head")[0]||document.documentElement,y=document.createElement("style"),m.appendChild(y),y.setAttribute("type","text/css"),y.styleSheet?y.styleSheet.cssText=g:y.textContent=g},Xt.prototype._init_video=D.safewrap((function(){if(this.video_url){var t=this;t.yt_custom="postMessage"in window,t.dest_url=t.video_url;var e=t.video_url.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/ ]{11})/i),i=t.video_url.match(/vimeo\.com\/.*?(\d+)/i);if(e){if(t.show_video=!0,t.youtube_video=e[1],t.yt_custom){window.onYouTubeIframeAPIReady=function(){t._get_el("video-frame")&&t._yt_video_ready()};var r=document.createElement("script");r.src=t.resource_protocol+"www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}}else i&&(t.show_video=!0,t.vimeo_video=i[1]);(t._browser_lte("ie",7)||t._browser_lte("firefox",3))&&(t.show_video=!1,t.clickthrough=!0)}})),Xt.prototype._mark_as_shown=D.safewrap((function(){var t=this;D.register_event(t._get_el("bg"),"click",(function(){t.dismiss()}));var e=function(t,e){var i={};return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,null):t.currentStyle&&(i=t.currentStyle),i[e]};if(this.campaign_id){var i=this._get_el("overlay");i&&"hidden"!==e(i,"visibility")&&"none"!==e(i,"display")&&this._mark_delivery()}})),Xt.prototype._mark_delivery=D.safewrap((function(t){this.marked_as_shown||(this.marked_as_shown=!0,this.campaign_id&&(this._get_shown_campaigns()[this.campaign_id]=1*new Date,this.persistence.save()),this._track_event("$campaign_delivery",t),this.mixpanel.people.append({$campaigns:this.campaign_id,$notifications:{campaign_id:this.campaign_id,message_id:this.message_id,type:"web",time:new Date}}))})),Xt.prototype._preload_images=function(t){var e=this;if(0!==this.imgs_to_preload.length){for(var i=0,r=[],n=function(){++i===e.imgs_to_preload.length&&t&&(t(),t=null)},o=0;o<this.imgs_to_preload.length;o++){var s=new Image;s.onload=n,s.src=this.imgs_to_preload[o],s.complete&&n(),r.push(s)}this._browser_lte("ie",7)&&setTimeout((function(){var e=!0;for(o=0;o<r.length;o++)r[o].complete||(e=!1);e&&t&&(t(),t=null)}),500)}else t()},Xt.prototype._remove_notification_el=D.safewrap((function(){window.clearInterval(this._video_progress_checker),this.notification_el.style.visibility="hidden",this.body_el.removeChild(this.notification_el)})),Xt.prototype._set_client_config=function(){var t=function(t){var e=navigator.userAgent.match(t);return e&&e[1]};this.browser_versions={},this.browser_versions.chrome=t(/Chrome\/(\d+)/),this.browser_versions.firefox=t(/Firefox\/(\d+)/),this.browser_versions.ie=t(/MSIE (\d+).+/),this.browser_versions.ie||window.ActiveXObject||!("ActiveXObject"in window)||(this.browser_versions.ie=11),this.body_el=document.body||document.getElementsByTagName("body")[0],this.body_el&&(this.doc_width=Math.max(this.body_el.scrollWidth,document.documentElement.scrollWidth,this.body_el.offsetWidth,document.documentElement.offsetWidth,this.body_el.clientWidth,document.documentElement.clientWidth),this.doc_height=Math.max(this.body_el.scrollHeight,document.documentElement.scrollHeight,this.body_el.offsetHeight,document.documentElement.offsetHeight,this.body_el.clientHeight,document.documentElement.clientHeight));var e=this.browser_versions.ie,i=document.createElement("div").style,r=function(t){if(t in i)return!0;if(!e)for(var r=["O"+(t=t[0].toUpperCase()+t.slice(1)),"Webkit"+t,"Moz"+t],n=0;n<r.length;n++)if(r[n]in i)return!0;return!1};this.use_transitions=this.body_el&&r("transition")&&r("transform"),this.flip_animate=(this.browser_versions.chrome>=33||this.browser_versions.firefox>=15)&&this.body_el&&r("backfaceVisibility")&&r("perspective")&&r("transform")},Xt.prototype._switch_to_video=D.safewrap((function(){var t=this,e=[{el:t._get_notification_display_el(),attr:"opacity",start:1,goal:0},{el:t._get_notification_display_el(),attr:"top",start:Xt.NOTIF_TOP,goal:-500},{el:t._get_el("video-noflip"),attr:"opacity",start:0,goal:1},{el:t._get_el("video-noflip"),attr:"top",start:2*-t.video_height,goal:0}];if(t.mini){var i=t._get_el("bg"),r=t._get_el("overlay");i.style.width="100%",i.style.height="100%",r.style.width="100%",t._add_class(t._get_notification_display_el(),"exiting"),t._add_class(i,"visible"),e.push({el:t._get_el("bg"),attr:"opacity",start:0,goal:Xt.BG_OPACITY})}t._get_el("video-holder").innerHTML=t.video_iframe;var n=function(){window.YT&&window.YT.loaded&&t._yt_video_ready(),t.showing_video=!0,t._get_notification_display_el().style.visibility="hidden"};t.flip_animate?(t._add_class("flipper","flipped"),setTimeout(n,Xt.ANIM_TIME)):t._animate_els(e,Xt.ANIM_TIME,n)})),Xt.prototype._track_event=function(t,e,i){this.campaign_id?(e=e||{},e=D.extend(e,{campaign_id:this.campaign_id,message_id:this.message_id,message_type:"web_inapp",message_subtype:this.notif_type}),this.mixpanel.track(t,e,i)):i&&i.call()},Xt.prototype._yt_video_ready=D.safewrap((function(){var t=this;if(!t.video_inited){t.video_inited=!0;var e=t._get_el("video-elapsed"),i=t._get_el("video-time"),r=t._get_el("video-progress");new window.YT.Player(Xt.MARKUP_PREFIX+"-video-frame",{events:{onReady:function(n){var o=n.target,s=o.getDuration(),a=function(t){return("00"+t).slice(-2)},c=function(t){var e=Math.round(s-t),r=Math.floor(e/60),n=Math.floor(r/60);e-=60*r,r-=60*n,i.innerHTML="-"+(n?n+":":"")+a(r)+":"+a(e)};c(0),t._video_progress_checker=window.setInterval((function(){var t=o.getCurrentTime();e.style.width=t/s*100+"%",c(t)}),250),D.register_event(r,"click",(function(t){var e=Math.max(0,t.pageX-r.getBoundingClientRect().left);o.seekTo(s*e/r.clientWidth,!0)}))}}})}}));var Kt,Yt,Zt=function(){};D.extend(Zt.prototype,Et),Zt.prototype._init=function(t){this._mixpanel=t},Zt.prototype.set=mt((function(t,e,i){var r=this.set_action(t,e);return D.isObject(t)&&(i=e),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),r.$set=D.extend({},D.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),r.$set),this._send_request(r,i)})),Zt.prototype.set_once=mt((function(t,e,i){var r=this.set_once_action(t,e);return D.isObject(t)&&(i=e),this._send_request(r,i)})),Zt.prototype.unset=mt((function(t,e){var i=this.unset_action(t);return this._send_request(i,e)})),Zt.prototype.increment=mt((function(t,e,i){var r={},n={};return D.isObject(t)?(D.each(t,(function(t,e){if(!this._is_reserved_property(e)){if(isNaN(parseFloat(t)))return void B.error("Invalid increment value passed to mixpanel.people.increment - must be a number");n[e]=t}}),this),i=e):(D.isUndefined(e)&&(e=1),n[t]=e),r.$add=n,this._send_request(r,i)})),Zt.prototype.append=mt((function(t,e,i){D.isObject(t)&&(i=e);var r=this.append_action(t,e);return this._send_request(r,i)})),Zt.prototype.remove=mt((function(t,e,i){D.isObject(t)&&(i=e);var r=this.remove_action(t,e);return this._send_request(r,i)})),Zt.prototype.union=mt((function(t,e,i){D.isObject(t)&&(i=e);var r=this.union_action(t,e);return this._send_request(r,i)})),Zt.prototype.track_charge=mt((function(t,e,i){if(D.isNumber(t)||(t=parseFloat(t),!isNaN(t)))return this.append("$transactions",D.extend({$amount:t},e),i);B.error("Invalid value passed to mixpanel.people.track_charge - must be a number")})),Zt.prototype.clear_charges=function(t){return this.set("$transactions",[],t)},Zt.prototype.delete_user=function(){if(this._identify_called()){var t={$delete:this._mixpanel.get_distinct_id()};return this._send_request(t)}B.error("mixpanel.people.delete_user() requires you to call identify() first")},Zt.prototype.toString=function(){return this._mixpanel.toString()+".people"},Zt.prototype._send_request=function(t,e){t.$token=this._get_config("token"),t.$distinct_id=this._mixpanel.get_distinct_id();var i=this._mixpanel.get_property("$device_id"),r=this._mixpanel.get_property("$user_id"),n=this._mixpanel.get_property("$had_persisted_distinct_id");i&&(t.$device_id=i),r&&(t.$user_id=r),n&&(t.$had_persisted_distinct_id=n);var o=D.encodeDates(t),s=D.truncate(o,255);return this._identify_called()?this._mixpanel._track_or_batch({truncated_data:s,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},e):(this._enqueue(t),D.isUndefined(e)||(this._get_config("verbose")?e({status:-1,error:null}):e(-1)),s)},Zt.prototype._get_config=function(t){return this._mixpanel.get_config(t)},Zt.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},Zt.prototype._enqueue=function(t){"$set"in t?this._mixpanel.persistence._add_to_people_queue("$set",t):"$set_once"in t?this._mixpanel.persistence._add_to_people_queue("$set_once",t):"$unset"in t?this._mixpanel.persistence._add_to_people_queue("$unset",t):"$add"in t?this._mixpanel.persistence._add_to_people_queue("$add",t):"$append"in t?this._mixpanel.persistence._add_to_people_queue("$append",t):"$remove"in t?this._mixpanel.persistence._add_to_people_queue("$remove",t):"$union"in t?this._mixpanel.persistence._add_to_people_queue("$union",t):B.error("Invalid call to _enqueue():",t)},Zt.prototype._flush_one_queue=function(t,e,i,r){var n=this,o=D.extend({},this._mixpanel.persistence._get_queue(t)),s=o;D.isUndefined(o)||!D.isObject(o)||D.isEmptyObject(o)||(n._mixpanel.persistence._pop_from_people_queue(t,o),r&&(s=r(o)),e.call(n,s,(function(e,r){0===e&&n._mixpanel.persistence._add_to_people_queue(t,o),D.isUndefined(i)||i(e,r)})))},Zt.prototype._flush=function(t,e,i,r,n,o,s){var a=this,c=this._mixpanel.persistence._get_queue("$append"),u=this._mixpanel.persistence._get_queue("$remove");if(this._flush_one_queue("$set",this.set,t),this._flush_one_queue("$set_once",this.set_once,r),this._flush_one_queue("$unset",this.unset,o,(function(t){return D.keys(t)})),this._flush_one_queue("$add",this.increment,e),this._flush_one_queue("$union",this.union,n),!D.isUndefined(c)&&D.isArray(c)&&c.length){for(var p,l=function(t,e){0===t&&a._mixpanel.persistence._add_to_people_queue("$append",p),D.isUndefined(i)||i(t,e)},h=c.length-1;h>=0;h--)p=c.pop(),D.isEmptyObject(p)||a.append(p,l);a._mixpanel.persistence.save()}if(!D.isUndefined(u)&&D.isArray(u)&&u.length){for(var f,d=function(t,e){0===t&&a._mixpanel.persistence._add_to_people_queue("$remove",f),D.isUndefined(s)||s(t,e)},_=u.length-1;_>=0;_--)f=u.pop(),D.isEmptyObject(f)||a.remove(f,d);a._mixpanel.persistence.save()}},Zt.prototype._is_reserved_property=function(t){return"$distinct_id"===t||"$token"===t||"$device_id"===t||"$user_id"===t||"$had_persisted_distinct_id"===t},Zt.prototype.set=Zt.prototype.set,Zt.prototype.set_once=Zt.prototype.set_once,Zt.prototype.unset=Zt.prototype.unset,Zt.prototype.increment=Zt.prototype.increment,Zt.prototype.append=Zt.prototype.append,Zt.prototype.remove=Zt.prototype.remove,Zt.prototype.union=Zt.prototype.union,Zt.prototype.track_charge=Zt.prototype.track_charge,Zt.prototype.clear_charges=Zt.prototype.clear_charges,Zt.prototype.delete_user=Zt.prototype.delete_user,Zt.prototype.toString=Zt.prototype.toString;var Qt=r.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,te=!Qt&&-1===S.indexOf("MSIE")&&-1===S.indexOf("Mozilla"),ee=null;O.sendBeacon&&(ee=function(){return O.sendBeacon.apply(O,arguments)});var ie={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",app_host:"https://mixpanel.com",autotrack:!0,cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,ignore_dnt:!1,batch_requests:!1,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4},re=!1,ne=function(){},oe=function(t,e,i){var r,o="mixpanel"===i?Yt:Yt[i];if(o&&0===Kt)r=o;else{if(o&&!D.isArray(o))return void B.error("You have already initialized "+i);r=new ne}if(r._cached_groups={},r._user_decide_check_complete=!1,r._events_tracked_before_user_decide_check_complete=[],r._init(t,e,i),r.people=new Zt,r.people._init(r),n.DEBUG=n.DEBUG||r.get_config("debug"),r.__autotrack_enabled=r.get_config("autotrack"),r.get_config("autotrack")){et.enabledForProject(r.get_config("token"),100,100)?et.isBrowserSupported()?et.init(r):(r.__autotrack_enabled=!1,B.log("Disabling Automatic Event Collection because this browser is not supported")):(r.__autotrack_enabled=!1,B.log("Not in active bucket: disabling Automatic Event Collection."))}return!D.isUndefined(o)&&D.isArray(o)&&(r._execute_array.call(r.people,o.people),r._execute_array(o)),r},se=function(t){var e=D.JSONEncode(t);return{data:D.base64Encode(e)}};ne.prototype.init=function(t,e,i){if(D.isUndefined(i))B.error("You must name your new library: init(token, config, name)");else{if("mixpanel"!==i){var r=oe(t,e,i);return Yt[i]=r,r._loaded(),r}B.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet")}},ne.prototype._init=function(t,e,i){this.__loaded=!0,this.config={},this._triggered_notifs=[];var n={};!("batch_requests"in(e||{}))&&L(t,"batch",10)&&(n.batch_requests=!0),this.set_config(D.extend({},ie,n,e,{name:i,token:t,callback_fn:("mixpanel"===i?i:"mixpanel."+i)+"._jsc"})),this._jsc=function(){},this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests&&(D.localStorage.is_supported(!0)&&Qt?(this.start_batch_requests(),ee&&r.addEventListener&&r.addEventListener("unload",D.bind((function(){this.request_batchers.events.flush({sendBeacon:!0})}),this))):(this._batch_requests=!1,B.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"))),this.persistence=this.cookie=new St(this.config),this._gdpr_init();var o=D.UUID();this.get_distinct_id()||this.register_once({distinct_id:o,$device_id:o},"")},ne.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()},ne.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(E.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(E.referrer)},ne.prototype._dom_loaded=function(){D.each(this.__dom_loaded_queue,(function(t){this._track_dom.apply(this,t)}),this),this.has_opted_out_tracking()||D.each(this.__request_queue,(function(t){this._send_request.apply(this,t)}),this),delete this.__dom_loaded_queue,delete this.__request_queue},ne.prototype._track_dom=function(t,e){if(this.get_config("img"))return B.error("You can't use DOM tracking functions with img = true."),!1;if(!re)return this.__dom_loaded_queue.push([t,e]),!1;var i=(new t).init(this);return i.track.apply(i,e)},ne.prototype._prepare_callback=function(t,e){if(D.isUndefined(t))return null;if(Qt){return function(i){t(i,e)}}var i=this._jsc,r=""+Math.floor(1e8*Math.random()),n=this.get_config("callback_fn")+"["+r+"]";return i[r]=function(n){delete i[r],t(n,e)},n},ne.prototype._send_request=function(t,e,i,r){var n=!0;if(te)return this.__request_queue.push(arguments),n;var o={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},s=null;r||!D.isFunction(i)&&"string"!=typeof i||(r=i,i=null),i=D.extend(o,i||{}),Qt||(i.method="GET");var a="POST"===i.method,c=ee&&a&&"sendbeacon"===i.transport.toLowerCase(),u=i.verbose;if(e.verbose&&(u=!0),this.get_config("test")&&(e.test=1),u&&(e.verbose=1),this.get_config("img")&&(e.img=1),Qt||(r?e.callback=r:(u||this.get_config("test"))&&(e.callback="(function(){})")),e.ip=this.get_config("ip")?1:0,e._=(new Date).getTime().toString(),a&&(s="data="+e.data,delete e.data),t+="?"+D.HTTPBuildQuery(e),"img"in e){var p=E.createElement("img");p.src=t,E.body.appendChild(p)}else if(c)try{n=ee(t,s)}catch(t){B.error(t),n=!1}else if(Qt)try{var l=new XMLHttpRequest;l.open(i.method,t,!0);var h=this.get_config("xhr_headers");if(a&&(h["Content-Type"]="application/x-www-form-urlencoded"),D.each(h,(function(t,e){l.setRequestHeader(e,t)})),i.timeout_ms&&void 0!==l.timeout){l.timeout=i.timeout_ms;var f=(new Date).getTime()}l.withCredentials=!0,l.onreadystatechange=function(){var t;if(4===l.readyState)if(200===l.status){if(r)if(u){var e;try{e=D.JSONDecode(l.responseText)}catch(t){if(B.error(t),!i.ignore_json_errors)return;e=l.responseText}r(e)}else r(Number(l.responseText))}else t=l.timeout&&!l.status&&(new Date).getTime()-f>=l.timeout?"timeout":"Bad HTTP status: "+l.status+" "+l.statusText,B.error(t),r&&r(u?{status:0,error:t,xhr_req:l}:0)},l.send(s)}catch(t){B.error(t),n=!1}else{var d=E.createElement("script");d.type="text/javascript",d.async=!0,d.defer=!0,d.src=t;var _=E.getElementsByTagName("script")[0];_.parentNode.insertBefore(d,_)}return n},ne.prototype._execute_array=function(t){var e,i=[],r=[],n=[];D.each(t,(function(t){t&&(e=t[0],D.isArray(e)?n.push(t):"function"==typeof t?t.call(this):D.isArray(t)&&"alias"===e?i.push(t):D.isArray(t)&&-1!==e.indexOf("track")&&"function"==typeof this[e]?n.push(t):r.push(t))}),this);var o=function(t,e){D.each(t,(function(t){if(D.isArray(t[0])){var i=e;D.each(t,(function(t){i=i[t[0]].apply(i,t.slice(1))}))}else this[t[0]].apply(this,t.slice(1))}),e)};o(i,this),o(r,this),o(n,this)},ne.prototype.start_batch_requests=function(){var t=this.get_config("token");if(!this.request_batchers.events){var e={libConfig:this.config,sendRequestFunc:D.bind((function(t,e,i,r){this._send_request(this.get_config("api_host")+t,se(e),i,this._prepare_callback(r,e))}),this)};this.request_batchers={events:new lt("__mpq_"+t+"_ev","/track/",e),people:new lt("__mpq_"+t+"_pp","/engage/",e),groups:new lt("__mpq_"+t+"_gr","/groups/",e)}}D.each(this.request_batchers,(function(t){t.start()}))},ne.prototype.stop_batch_requests=function(){this._batch_requests=!1,D.each(this.request_batchers,(function(t){t.stop(),t.clear()}))},ne.prototype.push=function(t){this._execute_array([t])},ne.prototype.disable=function(t){void 0===t?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(t)},ne.prototype._track_or_batch=function(t,e){var i=t.truncated_data,r=t.endpoint,n=t.batcher,o=t.should_send_immediately,s=t.send_request_options||{};e=e||function(){};var a=!0,c=D.bind((function(){return B.log("MIXPANEL REQUEST:"),B.log(i),this._send_request(r,se(i),s,this._prepare_callback(e,i))}),this);return this._batch_requests&&!o?n.enqueue(i,(function(t){t?e(1,i):c()})):a=c(),a&&i},ne.prototype.track=gt((function(t,e,i,r){r||"function"!=typeof i||(r=i,i=null);var n=(i=i||{}).transport;n&&(i.transport=n);var o=i.send_immediately;if("function"!=typeof r&&(r=function(){}),D.isUndefined(t))B.error("No event name provided to mixpanel.track");else{if(!this._event_is_disabled(t)){(e=e||{}).token=this.get_config("token");var s=this.persistence.remove_event_timer(t);if(!D.isUndefined(s)){var a=(new Date).getTime()-s;e.$duration=parseFloat((a/1e3).toFixed(3))}this._set_default_superprops(),e=D.extend({},D.info.properties(),this.persistence.properties(),e);var c=this.get_config("property_blacklist");D.isArray(c)?D.each(c,(function(t){delete e[t]})):B.error("Invalid value for property_blacklist config: "+c);var u={event:t,properties:e},p=this._track_or_batch({truncated_data:D.truncate(u,255),endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:o,send_request_options:i},r);return this._check_and_handle_triggered_notifications(u),p}r(0)}})),ne.prototype.set_group=gt((function(t,e,i){D.isArray(e)||(e=[e]);var r={};return r[t]=e,this.register(r),this.people.set(t,e,i)})),ne.prototype.add_group=gt((function(t,e,i){var r=this.get_property(t);if(void 0===r){var n={};n[t]=[e],this.register(n)}else-1===r.indexOf(e)&&(r.push(e),this.register(n));return this.people.union(t,e,i)})),ne.prototype.remove_group=gt((function(t,e,i){var r=this.get_property(t);if(void 0!==r){var n=r.indexOf(e);n>-1&&(r.splice(n,1),this.register({group_key:r})),0===r.length&&this.unregister(t)}return this.people.remove(t,e,i)})),ne.prototype.track_with_groups=gt((function(t,e,i,r){var n=D.extend({},e||{});return D.each(i,(function(t,e){null!=t&&(n[e]=t)})),this.track(t,n,r)})),ne.prototype._create_map_key=function(t,e){return t+"_"+JSON.stringify(e)},ne.prototype._remove_group_from_cache=function(t,e){delete this._cached_groups[this._create_map_key(t,e)]},ne.prototype.get_group=function(t,e){var i=this._create_map_key(t,e),r=this._cached_groups[i];return void 0!==r&&r._group_key===t&&r._group_id===e||((r=new It)._init(this,t,e),this._cached_groups[i]=r),r},ne.prototype.track_pageview=function(t){D.isUndefined(t)&&(t=E.location.href),this.track("mp_page_view",D.info.pageviewInfo(t))},ne.prototype.track_links=function(){return this._track_dom.call(this,rt,arguments)},ne.prototype.track_forms=function(){return this._track_dom.call(this,nt,arguments)},ne.prototype.time_event=function(t){D.isUndefined(t)?B.error("No event name provided to mixpanel.time_event"):this._event_is_disabled(t)||this.persistence.set_event_timer(t,(new Date).getTime())},ne.prototype.register=function(t,e){this.persistence.register(t,e)},ne.prototype.register_once=function(t,e,i){this.persistence.register_once(t,e,i)},ne.prototype.unregister=function(t){this.persistence.unregister(t)},ne.prototype._register_single=function(t,e){var i={};i[t]=e,this.register(i)},ne.prototype.identify=function(t,e,i,r,n,o,s,a){var c=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var u=c;this.register_once({$had_persisted_distinct_id:!0,$device_id:u},"")}t!==c&&t!==this.get_property("__alias")&&(this.unregister("__alias"),this.register({distinct_id:t})),this._check_and_handle_notifications(this.get_distinct_id()),this._flags.identify_called=!0,this.people._flush(e,i,r,n,o,s,a),t!==c&&this.track("$identify",{distinct_id:t,$anon_distinct_id:c})},ne.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var t=D.UUID();this.register_once({distinct_id:t,$device_id:t},"")},ne.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},ne.prototype.alias=function(t,e){if(t===this.get_property("$people_distinct_id"))return B.critical("Attempting to create alias for existing People user - aborting."),-2;var i=this;return D.isUndefined(e)&&(e=this.get_distinct_id()),t!==e?(this._register_single("__alias",t),this.track("$create_alias",{alias:t,distinct_id:e},(function(){i.identify(t)}))):(B.error("alias matches current distinct_id - skipping api call."),this.identify(t),-1)},ne.prototype.name_tag=function(t){this._register_single("mp_name_tag",t)},ne.prototype.set_config=function(t){D.isObject(t)&&(D.extend(this.config,t),t.batch_size&&D.each(this.request_batchers,(function(t){t.resetBatchSize()})),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),n.DEBUG=n.DEBUG||this.get_config("debug"))},ne.prototype.get_config=function(t){return this.config[t]},ne.prototype.get_property=function(t){return this.persistence.props[t]},ne.prototype.toString=function(){var t=this.get_config("name");return"mixpanel"!==t&&(t="mixpanel."+t),t},ne.prototype._event_is_disabled=function(t){return D.isBlockedUA(S)||this._flags.disable_all_events||D.include(this.__disabled_events,t)},ne.prototype._check_and_handle_triggered_notifications=gt((function(t){if(this._user_decide_check_complete)for(var e=this._triggered_notifs,i=0;i<e.length;i++){if(new Xt(e[i],this)._matches_event_data(t))return void this._show_notification(e[i])}else this._events_tracked_before_user_decide_check_complete.push(t)})),ne.prototype._check_and_handle_notifications=gt((function(t){if(t&&!this._flags.identify_called&&!this.get_config("disable_notifications")){B.log("MIXPANEL NOTIFICATION CHECK");var e={verbose:!0,version:"3",lib:"web",token:this.get_config("token"),distinct_id:t};this._send_request(this.get_config("api_host")+"/decide/",e,{method:"GET",transport:"XHR"},this._prepare_callback(D.bind((function(t){if(t.notifications&&t.notifications.length>0){this._triggered_notifs=[];var e=[];D.each(t.notifications,(function(t){(t.display_triggers&&t.display_triggers.length>0?this._triggered_notifs:e).push(t)}),this),e.length>0&&this._show_notification.call(this,e[0])}this._handle_user_decide_check_complete()}),this)))}})),ne.prototype._handle_user_decide_check_complete=function(){this._user_decide_check_complete=!0;for(var t=this._events_tracked_before_user_decide_check_complete;t.length>0;){var e=t.shift();this._check_and_handle_triggered_notifications(e)}},ne.prototype._show_notification=function(t){new Xt(t,this).show()},ne.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&D.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_tracking()||!this.get_config("opt_out_tracking_by_default")&&!D.cookie.get("mp_optout")||(D.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},ne.prototype._gdpr_update_persistence=function(t){var e;if(t&&t.clear_persistence)e=!0;else{if(!t||!t.enable_persistence)return;e=!1}this.get_config("disable_persistence")||this.persistence.disabled===e||this.persistence.set_disabled(e),e&&D.each(this.request_batchers,(function(t){t.clear()}))},ne.prototype._gdpr_call_func=function(t,e){return e=D.extend({track:D.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},e),D.localStorage.is_supported()||(e.persistence_type="cookie"),t(this.get_config("token"),{track:e.track,trackEventName:e.track_event_name,trackProperties:e.track_properties,persistenceType:e.persistence_type,persistencePrefix:e.cookie_prefix,cookieDomain:e.cookie_domain,cookieExpiration:e.cookie_expiration,crossSiteCookie:e.cross_site_cookie,crossSubdomainCookie:e.cross_subdomain_cookie,secureCookie:e.secure_cookie,ignoreDnt:e.ignore_dnt})},ne.prototype.opt_in_tracking=function(t){t=D.extend({enable_persistence:!0},t),this._gdpr_call_func(ht,t),this._gdpr_update_persistence(t)},ne.prototype.opt_out_tracking=function(t){(t=D.extend({clear_persistence:!0,delete_user:!0},t)).delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(ft,t),this._gdpr_update_persistence(t)},ne.prototype.has_opted_in_tracking=function(t){return this._gdpr_call_func(dt,t)},ne.prototype.has_opted_out_tracking=function(t){return this._gdpr_call_func(_t,t)},ne.prototype.clear_opt_in_out_tracking=function(t){t=D.extend({enable_persistence:!0},t),this._gdpr_call_func(vt,t),this._gdpr_update_persistence(t)},ne.prototype.init=ne.prototype.init,ne.prototype.reset=ne.prototype.reset,ne.prototype.disable=ne.prototype.disable,ne.prototype.time_event=ne.prototype.time_event,ne.prototype.track=ne.prototype.track,ne.prototype.track_links=ne.prototype.track_links,ne.prototype.track_forms=ne.prototype.track_forms,ne.prototype.track_pageview=ne.prototype.track_pageview,ne.prototype.register=ne.prototype.register,ne.prototype.register_once=ne.prototype.register_once,ne.prototype.unregister=ne.prototype.unregister,ne.prototype.identify=ne.prototype.identify,ne.prototype.alias=ne.prototype.alias,ne.prototype.name_tag=ne.prototype.name_tag,ne.prototype.set_config=ne.prototype.set_config,ne.prototype.get_config=ne.prototype.get_config,ne.prototype.get_property=ne.prototype.get_property,ne.prototype.get_distinct_id=ne.prototype.get_distinct_id,ne.prototype.toString=ne.prototype.toString,ne.prototype._check_and_handle_notifications=ne.prototype._check_and_handle_notifications,ne.prototype._handle_user_decide_check_complete=ne.prototype._handle_user_decide_check_complete,ne.prototype._show_notification=ne.prototype._show_notification,ne.prototype.opt_out_tracking=ne.prototype.opt_out_tracking,ne.prototype.opt_in_tracking=ne.prototype.opt_in_tracking,ne.prototype.has_opted_out_tracking=ne.prototype.has_opted_out_tracking,ne.prototype.has_opted_in_tracking=ne.prototype.has_opted_in_tracking,ne.prototype.clear_opt_in_out_tracking=ne.prototype.clear_opt_in_out_tracking,ne.prototype.get_group=ne.prototype.get_group,ne.prototype.set_group=ne.prototype.set_group,ne.prototype.add_group=ne.prototype.add_group,ne.prototype.remove_group=ne.prototype.remove_group,ne.prototype.track_with_groups=ne.prototype.track_with_groups,ne.prototype.stop_batch_requests=ne.prototype.stop_batch_requests,St.prototype.properties=St.prototype.properties,St.prototype.update_search_keyword=St.prototype.update_search_keyword,St.prototype.update_referrer_info=St.prototype.update_referrer_info,St.prototype.get_cross_subdomain=St.prototype.get_cross_subdomain,St.prototype.clear=St.prototype.clear,D.safewrap_class(ne,["identify","_check_and_handle_notifications","_show_notification"]);var ae={},ce=function(){Yt.init=function(t,e,i){if(i)return Yt[i]||(Yt[i]=ae[i]=oe(t,e,i),Yt[i]._loaded()),Yt[i];var n=Yt;ae.mixpanel?n=ae.mixpanel:t&&((n=oe(t,e,"mixpanel"))._loaded(),ae.mixpanel=n),Yt=n,1===Kt&&(r.mixpanel=Yt),D.each(ae,(function(t,e){"mixpanel"!==e&&(Yt[e]=t)})),Yt._=D}};var ue=(Kt=0,Yt=new ne,ce(),Yt.init(),function(){function t(){t.done||(t.done=!0,re=!0,te=!1,D.each(ae,(function(t){t._dom_loaded()})))}if(E.addEventListener)"complete"===E.readyState?t():E.addEventListener("DOMContentLoaded",t,!1);else if(E.attachEvent){E.attachEvent("onreadystatechange",t);var e=!1;try{e=null===r.frameElement}catch(t){}E.documentElement.doScroll&&e&&function e(){try{E.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}t()}()}D.register_event(r,"load",t,!0)}(),Yt);t.exports=ue},function(t,e,i){"use strict";(function(t){var r=e;function n(t,e,i){for(var r=Object.keys(e),n=0;n<r.length;++n)void 0!==t[r[n]]&&i||(t[r[n]]=e[r[n]]);return t}function o(t){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&n(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=i(8),r.base64=i(9),r.EventEmitter=i(10),r.float=i(11),r.inquire=i(12),r.utf8=i(13),r.pool=i(14),r.LongBits=i(15),r.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),r.global=r.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var i=t[e];return!(null==i||!t.hasOwnProperty(e))&&("object"!=typeof i||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var i=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(i.lo,i.hi,e):i.toNumber(Boolean(e))},r.merge=n,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(t){for(var e={},i=0;i<t.length;++i)e[t[i]]=1;return function(){for(var t=Object.keys(this),i=t.length-1;i>-1;--i)if(1===e[t[i]]&&void 0!==this[t[i]]&&null!==this[t[i]])return t[i]}},r.oneOfSetter=function(t){return function(e){for(var i=0;i<t.length;++i)t[i]!==e&&delete this[t[i]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,i){return new t(e,i)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,i(7))},function(t,e,i){"use strict";t.exports=l;var r,n=i(2),o=n.LongBits,s=n.base64,a=n.utf8;function c(t,e,i){this.fn=t,this.len=e,this.next=void 0,this.val=i}function u(){}function p(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function l(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var h=function(){return n.Buffer?function(){return(l.create=function(){return new r})()}:function(){return new l}};function f(t,e,i){e[i]=255&t}function d(t,e){this.len=t,this.next=void 0,this.val=e}function _(t,e,i){for(;t.hi;)e[i++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[i++]=127&t.lo|128,t.lo=t.lo>>>7;e[i++]=t.lo}function g(t,e,i){e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24}l.create=h(),l.alloc=function(t){return new n.Array(t)},n.Array!==Array&&(l.alloc=n.pool(l.alloc,n.Array.prototype.subarray)),l.prototype._push=function(t,e,i){return this.tail=this.tail.next=new c(t,e,i),this.len+=e,this},d.prototype=Object.create(c.prototype),d.prototype.fn=function(t,e,i){for(;t>127;)e[i++]=127&t|128,t>>>=7;e[i]=t},l.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new d((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},l.prototype.int32=function(t){return t<0?this._push(_,10,o.fromNumber(t)):this.uint32(t)},l.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},l.prototype.uint64=function(t){var e=o.from(t);return this._push(_,e.length(),e)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(t){var e=o.from(t).zzEncode();return this._push(_,e.length(),e)},l.prototype.bool=function(t){return this._push(f,1,t?1:0)},l.prototype.fixed32=function(t){return this._push(g,4,t>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(t){var e=o.from(t);return this._push(g,4,e.lo)._push(g,4,e.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(t){return this._push(n.float.writeFloatLE,4,t)},l.prototype.double=function(t){return this._push(n.float.writeDoubleLE,8,t)};var m=n.Array.prototype.set?function(t,e,i){e.set(t,i)}:function(t,e,i){for(var r=0;r<t.length;++r)e[i+r]=t[r]};l.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(f,1,0);if(n.isString(t)){var i=l.alloc(e=s.length(t));s.decode(t,i,0),t=i}return this.uint32(e)._push(m,e,t)},l.prototype.string=function(t){var e=a.length(t);return e?this.uint32(e)._push(a.write,e,t):this._push(f,1,0)},l.prototype.fork=function(){return this.states=new p(this),this.head=this.tail=new c(u,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},l.prototype.ldelim=function(){var t=this.head,e=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=t.next,this.tail=e,this.len+=i),this},l.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),i=0;t;)t.fn(t.val,e,i),i+=t.len,t=t.next;return e},l._configure=function(t){r=t,l.create=h(),r._configure()}},function(t,e,i){"use strict";t.exports=c;var r,n=i(2),o=n.LongBits,s=n.utf8;function a(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function c(t){this.buf=t,this.pos=0,this.len=t.length}var u,p="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new c(t);throw Error("illegal buffer")},l=function(){return n.Buffer?function(t){return(c.create=function(t){return n.Buffer.isBuffer(t)?new r(t):p(t)})(t)}:p};function h(){var t=new o(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw a(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw a(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function f(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw a(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var t=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var t=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},c.prototype.bytes=function(){var t=this.uint32(),e=this.pos,i=this.pos+t;if(i>this.len)throw a(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,i):e===i?new this.buf.constructor(0):this._slice.call(this.buf,e,i)},c.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},c.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw a(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},c._configure=function(t){r=t,c.create=l(),r._configure();var e=n.Long?"toLong":"toNumber";n.merge(c.prototype,{int64:function(){return h.call(this)[e](!1)},uint64:function(){return h.call(this)[e](!0)},sint64:function(){return h.call(this).zzDecode()[e](!1)},fixed64:function(){return d.call(this)[e](!0)},sfixed64:function(){return d.call(this)[e](!1)}})}},function(t,e,i){"use strict";t.exports=i(6)},function(t,e,i){"use strict";var r=e;function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=i(3),r.BufferWriter=i(16),r.Reader=i(4),r.BufferReader=i(17),r.util=i(2),r.rpc=i(18),r.roots=i(20),r.configure=n,n()},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";t.exports=function(t,e){var i=new Array(arguments.length-1),r=0,n=2,o=!0;for(;n<arguments.length;)i[r++]=arguments[n++];return new Promise((function(n,s){i[r]=function(t){if(o)if(o=!1,t)s(t);else{for(var e=new Array(arguments.length-1),i=0;i<e.length;)e[i++]=arguments[i];n.apply(null,e)}};try{t.apply(e||null,i)}catch(t){o&&(o=!1,s(t))}}))}},function(t,e,i){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var i=0;--e%4>1&&"="===t.charAt(e);)++i;return Math.ceil(3*t.length)/4-i};for(var n=new Array(64),o=new Array(123),s=0;s<64;)o[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(t,e,i){for(var r,o=null,s=[],a=0,c=0;e<i;){var u=t[e++];switch(c){case 0:s[a++]=n[u>>2],r=(3&u)<<4,c=1;break;case 1:s[a++]=n[r|u>>4],r=(15&u)<<2,c=2;break;case 2:s[a++]=n[r|u>>6],s[a++]=n[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=n[r],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};r.decode=function(t,e,i){for(var r,n=i,s=0,a=0;a<t.length;){var c=t.charCodeAt(a++);if(61===c&&s>1)break;if(void 0===(c=o[c]))throw Error("invalid encoding");switch(s){case 0:r=c,s=1;break;case 1:e[i++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:e[i++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:e[i++]=(3&r)<<6|c,s=0}}if(1===s)throw Error("invalid encoding");return i-n},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,e,i){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,i){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:i||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var i=this._listeners[t],r=0;r<i.length;)i[r].fn===e?i.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var i=[],r=1;r<arguments.length;)i.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,i)}return this}},function(t,e,i){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),i=new Uint8Array(e.buffer),r=128===i[3];function n(t,r,n){e[0]=t,r[n]=i[0],r[n+1]=i[1],r[n+2]=i[2],r[n+3]=i[3]}function o(t,r,n){e[0]=t,r[n]=i[3],r[n+1]=i[2],r[n+2]=i[1],r[n+3]=i[0]}function s(t,r){return i[0]=t[r],i[1]=t[r+1],i[2]=t[r+2],i[3]=t[r+3],e[0]}function a(t,r){return i[3]=t[r],i[2]=t[r+1],i[1]=t[r+2],i[0]=t[r+3],e[0]}t.writeFloatLE=r?n:o,t.writeFloatBE=r?o:n,t.readFloatLE=r?s:a,t.readFloatBE=r?a:s}():function(){function e(t,e,i,r){var n=e<0?1:0;if(n&&(e=-e),0===e)t(1/e>0?0:2147483648,i,r);else if(isNaN(e))t(2143289344,i,r);else if(e>34028234663852886e22)t((n<<31|2139095040)>>>0,i,r);else if(e<11754943508222875e-54)t((n<<31|Math.round(e/1401298464324817e-60))>>>0,i,r);else{var o=Math.floor(Math.log(e)/Math.LN2);t((n<<31|o+127<<23|8388607&Math.round(e*Math.pow(2,-o)*8388608))>>>0,i,r)}}function i(t,e,i){var r=t(e,i),n=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:n*(1/0):0===o?1401298464324817e-60*n*s:n*Math.pow(2,o-150)*(s+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,o),t.readFloatLE=i.bind(null,s),t.readFloatBE=i.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),i=new Uint8Array(e.buffer),r=128===i[7];function n(t,r,n){e[0]=t,r[n]=i[0],r[n+1]=i[1],r[n+2]=i[2],r[n+3]=i[3],r[n+4]=i[4],r[n+5]=i[5],r[n+6]=i[6],r[n+7]=i[7]}function o(t,r,n){e[0]=t,r[n]=i[7],r[n+1]=i[6],r[n+2]=i[5],r[n+3]=i[4],r[n+4]=i[3],r[n+5]=i[2],r[n+6]=i[1],r[n+7]=i[0]}function s(t,r){return i[0]=t[r],i[1]=t[r+1],i[2]=t[r+2],i[3]=t[r+3],i[4]=t[r+4],i[5]=t[r+5],i[6]=t[r+6],i[7]=t[r+7],e[0]}function a(t,r){return i[7]=t[r],i[6]=t[r+1],i[5]=t[r+2],i[4]=t[r+3],i[3]=t[r+4],i[2]=t[r+5],i[1]=t[r+6],i[0]=t[r+7],e[0]}t.writeDoubleLE=r?n:o,t.writeDoubleBE=r?o:n,t.readDoubleLE=r?s:a,t.readDoubleBE=r?a:s}():function(){function e(t,e,i,r,n,o){var s=r<0?1:0;if(s&&(r=-r),0===r)t(0,n,o+e),t(1/r>0?0:2147483648,n,o+i);else if(isNaN(r))t(0,n,o+e),t(2146959360,n,o+i);else if(r>17976931348623157e292)t(0,n,o+e),t((s<<31|2146435072)>>>0,n,o+i);else{var a;if(r<22250738585072014e-324)t((a=r/5e-324)>>>0,n,o+e),t((s<<31|a/4294967296)>>>0,n,o+i);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(a=r*Math.pow(2,-c))>>>0,n,o+e),t((s<<31|c+1023<<20|1048576*a&1048575)>>>0,n,o+i)}}}function i(t,e,i,r,n){var o=t(r,n+e),s=t(r,n+i),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,o,4,0),t.readDoubleLE=i.bind(null,s,0,4),t.readDoubleBE=i.bind(null,a,4,0)}(),t}function n(t,e,i){e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24}function o(t,e,i){e[i]=t>>>24,e[i+1]=t>>>16&255,e[i+2]=t>>>8&255,e[i+3]=255&t}function s(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e,i){"use strict";var r=e;r.length=function(t){for(var e=0,i=0,r=0;r<t.length;++r)(i=t.charCodeAt(r))<128?e+=1:i<2048?e+=2:55296==(64512&i)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,i){if(i-e<1)return"";for(var r,n=null,o=[],s=0;e<i;)(r=t[e++])<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,o)),s=0);return n?(s&&n.push(String.fromCharCode.apply(String,o.slice(0,s))),n.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(t,e,i){for(var r,n,o=i,s=0;s<t.length;++s)(r=t.charCodeAt(s))<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=63&r|128):55296==(64512&r)&&56320==(64512&(n=t.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&n),++s,e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=63&r|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=63&r|128);return i-o}},function(t,e,i){"use strict";t.exports=function(t,e,i){var r=i||8192,n=r>>>1,o=null,s=r;return function(i){if(i<1||i>n)return t(i);s+i>r&&(o=t(r),s=0);var a=e.call(o,s,s+=i);return 7&s&&(s=1+(7|s)),a}}},function(t,e,i){"use strict";t.exports=n;var r=i(2);function n(t,e){this.lo=t>>>0,this.hi=e>>>0}var o=n.zero=new n(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(t){if(0===t)return o;var e=t<0;e&&(t=-t);var i=t>>>0,r=(t-i)/4294967296>>>0;return e&&(r=~r>>>0,i=~i>>>0,++i>4294967295&&(i=0,++r>4294967295&&(r=0))),new n(i,r)},n.from=function(t){if("number"==typeof t)return n.fromNumber(t);if(r.isString(t)){if(!r.Long)return n.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new n(t.low>>>0,t.high>>>0):o},n.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,i=~this.hi>>>0;return e||(i=i+1>>>0),-(e+4294967296*i)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var a=String.prototype.charCodeAt;n.fromHash=function(t){return t===s?o:new n((a.call(t,0)|a.call(t,1)<<8|a.call(t,2)<<16|a.call(t,3)<<24)>>>0,(a.call(t,4)|a.call(t,5)<<8|a.call(t,6)<<16|a.call(t,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},n.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},n.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:i<128?9:10}},function(t,e,i){"use strict";t.exports=o;var r=i(3);(o.prototype=Object.create(r.prototype)).constructor=o;var n=i(2);function o(){r.call(this)}function s(t,e,i){t.length<40?n.utf8.write(t,e,i):e.utf8Write?e.utf8Write(t,i):e.write(t,i)}o._configure=function(){o.alloc=n._Buffer_allocUnsafe,o.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(t,e,i){e.set(t,i)}:function(t,e,i){if(t.copy)t.copy(e,i,0,t.length);else for(var r=0;r<t.length;)e[i++]=t[r++]}},o.prototype.bytes=function(t){n.isString(t)&&(t=n._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(o.writeBytesBuffer,e,t),this},o.prototype.string=function(t){var e=n.Buffer.byteLength(t);return this.uint32(e),e&&this._push(s,e,t),this},o._configure()},function(t,e,i){"use strict";t.exports=o;var r=i(4);(o.prototype=Object.create(r.prototype)).constructor=o;var n=i(2);function o(t){r.call(this,t)}o._configure=function(){n.Buffer&&(o.prototype._slice=n.Buffer.prototype.slice)},o.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},o._configure()},function(t,e,i){"use strict";e.Service=i(19)},function(t,e,i){"use strict";t.exports=n;var r=i(2);function n(t,e,i){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(i)}(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function t(e,i,n,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(t,a,e,i,n,o);if(a.rpcImpl)try{return a.rpcImpl(e,i[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(t,i){if(t)return a.emit("error",t,e),s(t);if(null!==i){if(!(i instanceof n))try{i=n[a.responseDelimited?"decodeDelimited":"decode"](i)}catch(t){return a.emit("error",t,e),s(t)}return a.emit("data",i,e),s(null,i)}a.end(!0)}))}catch(t){return a.emit("error",t,e),void setTimeout((function(){s(t)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},n.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e,i){"use strict";t.exports={}},function(t,e,i){"use strict";i.r(e),i.d(e,"Tracker",(function(){return _})),i.d(e,"MixpanelBackend",(function(){return h})),i.d(e,"Stage",(function(){return r.Stage})),i.d(e,"Intent",(function(){return r.Intent})),i.d(e,"Interaction",(function(){return r.Interaction})),i.d(e,"InteractionChannel",(function(){return r.InteractionChannel})),i.d(e,"Subject",(function(){return r.Subject})),i.d(e,"Application",(function(){return r.Application}));var r=i(0),n=i(1),o=function(){return(o=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function s(t){return r.Subject[t].toLowerCase().replace(/subject_/g,"")}function a(t){return r.Stage[t].toLowerCase().replace(/stage_/g,"")}function c(t){return r.Interaction[t].toLowerCase().replace(/interaction_/g,"")}function u(t){return r.Intent[t].toLowerCase().replace(/intent_/,"")}function p(t){return r.InteractionChannel[t].toLowerCase().replace(/interaction_channel_/,"")}function l(t,e){var i=e;t.application&&(i.client_id=t.application.id),t.account&&(i.account_number=t.account.number);var r=e,n=o(o({},i),t.attributes);for(var s in n)r[s.toLowerCase().replace(/[^a-z]/g,"_")]=n[s];return r}var h=function(){function t(t,e){n.init(t,e)}return t.prototype.disable=function(){return n.opt_out_tracking(),Promise.resolve(void 0)},t.prototype.enable=function(){return n.opt_in_tracking(),Promise.resolve(void 0)},t.prototype.identify=function(t){return n.identify(t.number),Promise.resolve(void 0)},t.prototype.reset=function(){return n.reset(),Promise.resolve(void 0)},t.prototype.trackInteraction=function(t){var e;return n.track((p((e=t).channel)+"."+c(e.interaction)).toLowerCase().replace(/[^a-z.]/g,"-"),l(t,{subject:s(t.subject),intent:u(t.intent),interaction:c(t.interaction),interaction_channel:p(t.channel)})),Promise.resolve(void 0)},t.prototype.trackStage=function(t){var e;return n.track((a((e=t).stage)+"."+u(e.intent)).toLowerCase().replace(/[^a-z.]/g,"-"),l(t,{subject:s(t.subject),intent:u(t.intent),stage:a(t.stage)})),Promise.resolve(void 0)},t.prototype.trackVisit=function(t){return n.track("visit",l(t,{location:t.location})),Promise.resolve(void 0)},t.prototype.trackClick=function(t){return n.track("click",l(t,{target:t.target})),Promise.resolve(void 0)},t}(),f=function(t,e,i,r){return new(i||(i=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},d=function(t,e){var i,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_=function(){function t(t,e){this.backend=t,this.application=e}return t.prototype.identify=function(t){return f(this,void 0,void 0,(function(){return d(this,(function(e){return this.account=t,[2,this.backend.identify(t)]}))}))},t.prototype.reset=function(){return f(this,void 0,void 0,(function(){return d(this,(function(t){return[2,this.backend.reset()]}))}))},t.prototype.disable=function(){return f(this,void 0,void 0,(function(){return d(this,(function(t){return[2,this.backend.disable()]}))}))},t.prototype.enable=function(){return f(this,void 0,void 0,(function(){return d(this,(function(t){return[2,this.backend.enable()]}))}))},t.prototype.trackStage=function(t,e,i,n){return f(this,void 0,void 0,(function(){return d(this,(function(o){return[2,this.backend.trackStage(new r.StageEvent({account:this.account,application:this.application,subject:t,intent:e,stage:i,attributes:n}))]}))}))},t.prototype.trackInteraction=function(t,e,i,n,o){return f(this,void 0,void 0,(function(){return d(this,(function(s){return[2,this.backend.trackInteraction(new r.InteractionEvent({account:this.account,application:this.application,subject:t,intent:e,interaction:i,channel:n,attributes:o}))]}))}))},t.prototype.trackVisit=function(t,e){return f(this,void 0,void 0,(function(){return d(this,(function(i){return[2,this.backend.trackVisit(new r.VisitEvent({account:this.account,application:this.application,location:t,attributes:e}))]}))}))},t.prototype.trackClick=function(t,e){return f(this,void 0,void 0,(function(){return d(this,(function(i){return[2,this.backend.trackClick(new r.ClickEvent({account:this.account,application:this.application,target:t,attributes:e}))]}))}))},t}()}]);